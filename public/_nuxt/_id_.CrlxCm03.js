import{_ as St}from"./nuxt-link.eZ5kOSgI.js";import{H as ve,I as st,J as _e,K as ge,L as Ke,M as ke,N as Ve,O as qe,Q as at,R as Et,T as Bt,U as Tt,V as lt,W as xt,X as Nt,Y as nt,Z as rt,$ as Je,a0 as Qe,a1 as Vt,a2 as zt,a3 as At,h as Ye,a4 as Le,B as se,e as Ge,a5 as Ut,a6 as Pt,f as Ce,u as Oe,S as it,E as ye,a7 as Lt,v as ct,n as Mt,G as Pe,p as Kt,d as qt,q as Gt,z as Ot,t as Ht,j as Dt,a as Rt}from"./entry.HuYbGiLS.js";import{j as F,a as I,p as He,F as De,L as m,M as S,U as ue,X as L,u as e,g as Re,i as Fe,N as l,a5 as K,a0 as p,a1 as dt,a3 as H,$ as Ft,k as M,b as de,s as jt,o as Wt,I as ut,R as Xt,ab as pe,Z as _,aa as Z,a9 as X,ac as Me,a6 as R,a2 as je,_ as ae,ar as ne,r as Ne,W as Jt,G as Qt,a4 as A,ai as Yt,V as Zt,as as Ie,ao as We,aB as mt,am as ze,an as Ae,x as ft,ah as eo}from"./swiper-vue.4ZhlhtKr.js";import{g as to,_ as oo}from"./GoodsListSsr._Tpyxu1Q.js";import{_ as so}from"./PreLoading.vue.RcEKquDI.js";import{u as ao}from"./index.gOl6WcbK.js";import{t as Ze,_ as Xe}from"./ElImage.H3VTC2Vd.js";import{E as pt}from"./scrollbar.ylZGouLy.js";import{E as vt}from"./tag.Q9i6oaRN.js";import{u as et,E as lo}from"./popper.TZrEXPn8.js";/* empty css                */import{g as no,t as ro}from"./collect.-h9uTaAX.js";import{b as io,E as co,a as uo}from"./index.S0AyQ0ue.js";import{E as mo}from"./input-number.dJQLWHXy.js";/* empty css                     *//* empty css                    *//* empty css              */import{u as fo}from"./useOrderStore._PjEUjF8.js";import{a as po}from"./index.zZZw1SHV.js";import{ElText as _t}from"./index.2AyaIaz8.js";import{E as vo,a as _o}from"./tabs.hIqoD_La.js";import{E as go}from"./rate.YTGIEK9x.js";import{_ as ho}from"./AutoIncre.vue.KpzenuDu.js";import{E as yo}from"./dialog.jW0LsHVx.js";import{u as bo,a as wo}from"./fetch.3IR0ILJ_.js";import{_ as ko}from"./index.g79XymgM.js";import{g as gt}from"./rand.mzGjE9Jh.js";import{g as Io,a as Co}from"./index.tpBqOViH.js";import{g as $o}from"./sku.o_NVcctg.js";import"./debounce.4-I_Xkye.js";import"./isUndefined.IZwZ21d-.js";import"./index.RtMxj6Hn.js";import"./index.xV7eTSBk.js";import"./strings.PBHHvk2X.js";const ht=Symbol("breadcrumbKey"),So=ve({separator:{type:String,default:"/"},separatorIcon:{type:st}}),Eo=F({name:"ElBreadcrumb"}),Bo=F({...Eo,props:So,setup(t){const u=t,o=_e("breadcrumb"),i=I();return He(ht,u),De(()=>{const c=i.value.querySelectorAll(`.${o.e("item")}`);c.length&&c[c.length-1].setAttribute("aria-current","page")}),(c,r)=>(m(),S("div",{ref_key:"breadcrumb",ref:i,class:L(e(o).b()),"aria-label":"Breadcrumb",role:"navigation"},[ue(c.$slots,"default")],2))}});var To=ge(Bo,[["__file","breadcrumb.vue"]]);const xo=ve({to:{type:Ke([String,Object]),default:""},replace:{type:Boolean,default:!1}}),No=F({name:"ElBreadcrumbItem"}),Vo=F({...No,props:xo,setup(t){const u=t,o=Re(),i=Fe(ht,void 0),c=_e("breadcrumb"),r=o.appContext.config.globalProperties.$router,s=I(),a=()=>{!u.to||!r||(u.replace?r.replace(u.to):r.push(u.to))};return(h,f)=>{var w,y;return m(),S("span",{class:L(e(c).e("item"))},[l("span",{ref_key:"link",ref:s,class:L([e(c).e("inner"),e(c).is("link",!!h.to)]),role:"link",onClick:a},[ue(h.$slots,"default")],2),(w=e(i))!=null&&w.separatorIcon?(m(),K(e(ke),{key:0,class:L(e(c).e("separator"))},{default:p(()=>[(m(),K(dt(e(i).separatorIcon)))]),_:1},8,["class"])):(m(),S("span",{key:1,class:L(e(c).e("separator")),role:"presentation"},H((y=e(i))==null?void 0:y.separator),3))],2)}}});var yt=ge(Vo,[["__file","breadcrumb-item.vue"]]);const zo=Ve(To,{BreadcrumbItem:yt}),Ao=qe(yt),Uo=ve({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Po={change:(t,u)=>[t,u].every(at)},bt=Symbol("carouselContextKey"),tt=300,Lo=(t,u,o)=>{const{children:i,addChild:c,removeChild:r}=ao(Re(),"ElCarouselItem"),s=Ft(),a=I(-1),h=I(null),f=I(!1),w=I(),y=I(0),d=I(!0),n=M(()=>t.arrow!=="never"&&!e(N)),g=M(()=>i.value.some(b=>b.props.label.toString().length>0)),k=M(()=>t.type==="card"),N=M(()=>t.direction==="vertical"),C=M(()=>t.height!=="auto"?{height:t.height}:{height:`${y.value}px`,overflow:"hidden"}),T=Ze(b=>{x(b)},tt,{trailing:!0}),V=Ze(b=>{le(b)},tt),$=b=>d.value?a.value<=1?b<=1:b>1:!0;function E(){h.value&&(clearInterval(h.value),h.value=null)}function P(){t.interval<=0||!t.autoplay||h.value||(h.value=setInterval(()=>O(),t.interval))}const O=()=>{a.value<i.value.length-1?a.value=a.value+1:t.loop&&(a.value=0)};function x(b){if(ut(b)){const te=i.value.filter(oe=>oe.props.name===b);te.length>0&&(b=i.value.indexOf(te[0]))}if(b=Number(b),Number.isNaN(b)||b!==Math.floor(b))return;const G=i.value.length,Y=a.value;b<0?a.value=t.loop?G-1:0:b>=G?a.value=t.loop?0:G-1:a.value=b,Y===a.value&&z(Y),v()}function z(b){i.value.forEach((G,Y)=>{G.translateItem(Y,a.value,b)})}function J(b,G){var Y,te,oe,fe;const ce=e(i),Se=ce.length;if(Se===0||!b.states.inStage)return!1;const be=G+1,Ue=G-1,we=Se-1,Ee=ce[we].states.active,Be=ce[0].states.active,Te=(te=(Y=ce[be])==null?void 0:Y.states)==null?void 0:te.active,xe=(fe=(oe=ce[Ue])==null?void 0:oe.states)==null?void 0:fe.active;return G===we&&Be||Te?"left":G===0&&Ee||xe?"right":!1}function Q(){f.value=!0,t.pauseOnHover&&E()}function j(){f.value=!1,P()}function q(b){e(N)||i.value.forEach((G,Y)=>{b===J(G,Y)&&(G.states.hover=!0)})}function W(){e(N)||i.value.forEach(b=>{b.states.hover=!1})}function ee(b){a.value=b}function le(b){t.trigger==="hover"&&b!==a.value&&(a.value=b)}function me(){x(a.value-1)}function $e(){x(a.value+1)}function v(){E(),t.pauseOnHover||P()}function B(b){t.height==="auto"&&(y.value=b)}function D(){var b;const G=(b=s.default)==null?void 0:b.call(s);if(!G)return null;const Y=Bt(G),te="ElCarouselItem",oe=Y.filter(fe=>Xt(fe)&&fe.type.name===te);return(oe==null?void 0:oe.length)===2&&t.loop&&!k.value?(d.value=!0,oe):(d.value=!1,null)}de(()=>a.value,(b,G)=>{z(G),d.value&&(b=b%2,G=G%2),G>-1&&u("change",b,G)}),de(()=>t.autoplay,b=>{b?P():E()}),de(()=>t.loop,()=>{x(a.value)}),de(()=>t.interval,()=>{v()});const ie=jt();return De(()=>{de(()=>i.value,()=>{i.value.length>0&&x(t.initialIndex)},{immediate:!0}),ie.value=Et(w.value,()=>{z()}),P()}),Wt(()=>{E(),w.value&&ie.value&&ie.value.stop()}),He(bt,{root:w,isCardType:k,isVertical:N,items:i,loop:t.loop,addItem:c,removeItem:r,setActiveItem:x,setContainerHeight:B}),{root:w,activeIndex:a,arrowDisplay:n,hasLabel:g,hover:f,isCardType:k,items:i,isVertical:N,containerStyle:C,isItemsTwoLength:d,handleButtonEnter:q,handleButtonLeave:W,handleIndicatorClick:ee,handleMouseEnter:Q,handleMouseLeave:j,setActiveItem:x,prev:me,next:$e,PlaceholderItem:D,isTwoLengthShow:$,throttledArrowClick:T,throttledIndicatorHover:V}},Mo=["onMouseenter","onClick"],Ko={key:0},qo="ElCarousel",Go=F({name:qo}),Oo=F({...Go,props:Uo,emits:Po,setup(t,{expose:u,emit:o}){const i=t,{root:c,activeIndex:r,arrowDisplay:s,hasLabel:a,hover:h,isCardType:f,items:w,isVertical:y,containerStyle:d,handleButtonEnter:n,handleButtonLeave:g,handleIndicatorClick:k,handleMouseEnter:N,handleMouseLeave:C,setActiveItem:T,prev:V,next:$,PlaceholderItem:E,isTwoLengthShow:P,throttledArrowClick:O,throttledIndicatorHover:x}=Lo(i,o),z=_e("carousel"),J=M(()=>{const j=[z.b(),z.m(i.direction)];return e(f)&&j.push(z.m("card")),j}),Q=M(()=>{const j=[z.e("indicators"),z.em("indicators",i.direction)];return e(a)&&j.push(z.em("indicators","labels")),i.indicatorPosition==="outside"&&j.push(z.em("indicators","outside")),e(y)&&j.push(z.em("indicators","right")),j});return u({setActiveItem:T,prev:V,next:$}),(j,q)=>(m(),S("div",{ref_key:"root",ref:c,class:L(e(J)),onMouseenter:q[6]||(q[6]=pe((...W)=>e(N)&&e(N)(...W),["stop"])),onMouseleave:q[7]||(q[7]=pe((...W)=>e(C)&&e(C)(...W),["stop"]))},[l("div",{class:L(e(z).e("container")),style:je(e(d))},[e(s)?(m(),K(Me,{key:0,name:"carousel-arrow-left",persisted:""},{default:p(()=>[X(l("button",{type:"button",class:L([e(z).e("arrow"),e(z).em("arrow","left")]),onMouseenter:q[0]||(q[0]=W=>e(n)("left")),onMouseleave:q[1]||(q[1]=(...W)=>e(g)&&e(g)(...W)),onClick:q[2]||(q[2]=pe(W=>e(O)(e(r)-1),["stop"]))},[_(e(ke),null,{default:p(()=>[_(e(Tt))]),_:1})],34),[[Z,(j.arrow==="always"||e(h))&&(i.loop||e(r)>0)]])]),_:1})):R("v-if",!0),e(s)?(m(),K(Me,{key:1,name:"carousel-arrow-right",persisted:""},{default:p(()=>[X(l("button",{type:"button",class:L([e(z).e("arrow"),e(z).em("arrow","right")]),onMouseenter:q[3]||(q[3]=W=>e(n)("right")),onMouseleave:q[4]||(q[4]=(...W)=>e(g)&&e(g)(...W)),onClick:q[5]||(q[5]=pe(W=>e(O)(e(r)+1),["stop"]))},[_(e(ke),null,{default:p(()=>[_(e(lt))]),_:1})],34),[[Z,(j.arrow==="always"||e(h))&&(i.loop||e(r)<e(w).length-1)]])]),_:1})):R("v-if",!0),_(e(E)),ue(j.$slots,"default")],6),j.indicatorPosition!=="none"?(m(),S("ul",{key:0,class:L(e(Q))},[(m(!0),S(ae,null,ne(e(w),(W,ee)=>X((m(),S("li",{key:ee,class:L([e(z).e("indicator"),e(z).em("indicator",j.direction),e(z).is("active",ee===e(r))]),onMouseenter:le=>e(x)(ee),onClick:pe(le=>e(k)(ee),["stop"])},[l("button",{class:L(e(z).e("button"))},[e(a)?(m(),S("span",Ko,H(W.props.label),1)):R("v-if",!0)],2)],42,Mo)),[[Z,e(P)(ee)]])),128))],2)):R("v-if",!0)],34))}});var Ho=ge(Oo,[["__file","carousel.vue"]]);const Do=ve({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ro=(t,u)=>{const o=Fe(bt),i=Re(),c=.83,r=I(),s=I(!1),a=I(0),h=I(1),f=I(!1),w=I(!1),y=I(!1),d=I(!1),{isCardType:n,isVertical:g}=o;function k($,E,P){const O=P-1,x=E-1,z=E+1,J=P/2;return E===0&&$===O?-1:E===O&&$===0?P:$<x&&E-$>=J?P+1:$>z&&$-E>=J?-2:$}function N($,E){var P,O;const x=e(g)?((P=o.root.value)==null?void 0:P.offsetHeight)||0:((O=o.root.value)==null?void 0:O.offsetWidth)||0;return y.value?x*((2-c)*($-E)+1)/4:$<E?-(1+c)*x/4:(3+c)*x/4}function C($,E,P){const O=o.root.value;return O?((P?O.offsetHeight:O.offsetWidth)||0)*($-E):0}const T=($,E,P)=>{var O;const x=e(n),z=(O=o.items.value.length)!=null?O:Number.NaN,J=$===E;!x&&!xt(P)&&(d.value=J||$===P),!J&&z>2&&o.loop&&($=k($,E,z));const Q=e(g);f.value=J,x?(y.value=Math.round(Math.abs($-E))<=1,a.value=N($,E),h.value=e(f)?1:c):a.value=C($,E,Q),w.value=!0,J&&r.value&&o.setContainerHeight(r.value.offsetHeight)};function V(){if(o&&e(n)){const $=o.items.value.findIndex(({uid:E})=>E===i.uid);o.setActiveItem($)}}return De(()=>{o.addItem({props:t,states:Ne({hover:s,translate:a,scale:h,active:f,ready:w,inStage:y,animating:d}),uid:i.uid,translateItem:T})}),Jt(()=>{o.removeItem(i.uid)}),{carouselItemRef:r,active:f,animating:d,hover:s,inStage:y,isVertical:g,translate:a,isCardType:n,scale:h,ready:w,handleItemClick:V}},Fo=F({name:"ElCarouselItem"}),jo=F({...Fo,props:Do,setup(t){const u=t,o=_e("carousel"),{carouselItemRef:i,active:c,animating:r,hover:s,inStage:a,isVertical:h,translate:f,isCardType:w,scale:y,ready:d,handleItemClick:n}=Ro(u),g=M(()=>[o.e("item"),o.is("active",c.value),o.is("in-stage",a.value),o.is("hover",s.value),o.is("animating",r.value),{[o.em("item","card")]:w.value,[o.em("item","card-vertical")]:w.value&&h.value}]),k=M(()=>{const C=`${`translate${e(h)?"Y":"X"}`}(${e(f)}px)`,T=`scale(${e(y)})`;return{transform:[C,T].join(" ")}});return(N,C)=>X((m(),S("div",{ref_key:"carouselItemRef",ref:i,class:L(e(g)),style:je(e(k)),onClick:C[0]||(C[0]=(...T)=>e(n)&&e(n)(...T))},[e(w)?X((m(),S("div",{key:0,class:L(e(o).e("mask"))},null,2)),[[Z,!e(c)]]):R("v-if",!0),ue(N.$slots,"default")],6)),[[Z,e(d)]])}});var wt=ge(jo,[["__file","carousel-item.vue"]]);const Wo=Ve(Ho,{CarouselItem:wt}),Xo=qe(wt),ot=t=>at(t)||ut(t)||Qt(t),Jo=ve({accordion:Boolean,modelValue:{type:Ke([Array,String,Number]),default:()=>Nt([])}}),Qo={[nt]:ot,[rt]:ot},kt=Symbol("collapseContextKey"),Yo=(t,u)=>{const o=I(Je(t.modelValue)),i=r=>{o.value=r;const s=t.accordion?o.value[0]:o.value;u(nt,s),u(rt,s)},c=r=>{if(t.accordion)i([o.value[0]===r?"":r]);else{const s=[...o.value],a=s.indexOf(r);a>-1?s.splice(a,1):s.push(r),i(s)}};return de(()=>t.modelValue,()=>o.value=Je(t.modelValue),{deep:!0}),He(kt,{activeNames:o,handleItemClick:c}),{activeNames:o,setActiveNames:i}},Zo=()=>{const t=_e("collapse");return{rootKls:M(()=>t.b())}},es=F({name:"ElCollapse"}),ts=F({...es,props:Jo,emits:Qo,setup(t,{expose:u,emit:o}){const i=t,{activeNames:c,setActiveNames:r}=Yo(i,o),{rootKls:s}=Zo();return u({activeNames:c,setActiveNames:r}),(a,h)=>(m(),S("div",{class:L(e(s))},[ue(a.$slots,"default")],2))}});var os=ge(ts,[["__file","collapse.vue"]]);const ss=ve({title:{type:String,default:""},name:{type:Ke([String,Number]),default:()=>gt()},disabled:Boolean}),as=t=>{const u=Fe(kt),o=I(!1),i=I(!1),c=I(gt()),r=M(()=>u==null?void 0:u.activeNames.value.includes(t.name));return{focusing:o,id:c,isActive:r,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:o.value=!0},50)},handleHeaderClick:()=>{t.disabled||(u==null||u.handleItemClick(t.name),o.value=!1,i.value=!0)},handleEnterClick:()=>{u==null||u.handleItemClick(t.name)}}},ls=(t,{focusing:u,isActive:o,id:i})=>{const c=_e("collapse"),r=M(()=>[c.b("item"),c.is("active",e(o)),c.is("disabled",t.disabled)]),s=M(()=>[c.be("item","header"),c.is("active",e(o)),{focusing:e(u)&&!t.disabled}]),a=M(()=>[c.be("item","arrow"),c.is("active",e(o))]),h=M(()=>c.be("item","wrap")),f=M(()=>c.be("item","content")),w=M(()=>c.b(`content-${e(i)}`)),y=M(()=>c.b(`head-${e(i)}`));return{arrowKls:a,headKls:s,rootKls:r,itemWrapperKls:h,itemContentKls:f,scopedContentId:w,scopedHeadId:y}},ns=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],rs=["id","aria-hidden","aria-labelledby"],is=F({name:"ElCollapseItem"}),cs=F({...is,props:ss,setup(t,{expose:u}){const o=t,{focusing:i,id:c,isActive:r,handleFocus:s,handleHeaderClick:a,handleEnterClick:h}=as(o),{arrowKls:f,headKls:w,rootKls:y,itemWrapperKls:d,itemContentKls:n,scopedContentId:g,scopedHeadId:k}=ls(o,{focusing:i,isActive:r,id:c});return u({isActive:r}),(N,C)=>(m(),S("div",{class:L(e(y))},[l("button",{id:e(k),class:L(e(w)),"aria-expanded":e(r),"aria-controls":e(g),"aria-describedby":e(g),tabindex:N.disabled?-1:0,type:"button",onClick:C[0]||(C[0]=(...T)=>e(a)&&e(a)(...T)),onKeydown:C[1]||(C[1]=Yt(pe((...T)=>e(h)&&e(h)(...T),["stop","prevent"]),["space","enter"])),onFocus:C[2]||(C[2]=(...T)=>e(s)&&e(s)(...T)),onBlur:C[3]||(C[3]=T=>i.value=!1)},[ue(N.$slots,"title",{},()=>[A(H(N.title),1)]),_(e(ke),{class:L(e(f))},{default:p(()=>[_(e(lt))]),_:1},8,["class"])],42,ns),_(e(ko),null,{default:p(()=>[X(l("div",{id:e(g),role:"region",class:L(e(d)),"aria-hidden":!e(r),"aria-labelledby":e(k)},[l("div",{class:L(e(n))},[ue(N.$slots,"default")],2)],10,rs),[[Z,e(r)]])]),_:3})],2))}});var It=ge(cs,[["__file","collapse-item.vue"]]);const ds=Ve(os,{CollapseItem:It}),us=qe(It),ms=ve({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Qe,default:"primary"},cancelButtonType:{type:String,values:Qe,default:"text"},icon:{type:st,default:()=>Vt},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:et.teleported,persistent:et.persistent,width:{type:[String,Number],default:150}}),fs={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},ps=F({name:"ElPopconfirm"}),vs=F({...ps,props:ms,emits:fs,setup(t,{emit:u}){const o=t,{t:i}=zt(),c=_e("popconfirm"),r=I(),s=()=>{var d,n;(n=(d=r.value)==null?void 0:d.onClose)==null||n.call(d)},a=M(()=>({width:At(o.width)})),h=d=>{u("confirm",d),s()},f=d=>{u("cancel",d),s()},w=M(()=>o.confirmButtonText||i("el.popconfirm.confirmButtonText")),y=M(()=>o.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(d,n)=>(m(),K(e(lo),Zt({ref_key:"tooltipRef",ref:r,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${e(c).namespace.value}-popover`,"popper-style":e(a),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:p(()=>[l("div",{class:L(e(c).b())},[l("div",{class:L(e(c).e("main"))},[!d.hideIcon&&d.icon?(m(),K(e(ke),{key:0,class:L(e(c).e("icon")),style:je({color:d.iconColor})},{default:p(()=>[(m(),K(dt(d.icon)))]),_:1},8,["class","style"])):R("v-if",!0),A(" "+H(d.title),1)],2),l("div",{class:L(e(c).e("action"))},[_(e(Ye),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:f},{default:p(()=>[A(H(e(y)),1)]),_:1},8,["type","text"]),_(e(Ye),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:h},{default:p(()=>[A(H(e(w)),1)]),_:1},8,["type","text"])],2)],2)]),default:p(()=>[d.$slots.reference?ue(d.$slots,"reference",{key:0}):R("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var _s=ge(vs,[["__file","popconfirm.vue"]]);const gs=Ve(_s),hs={class:"category-tree"},ys={"w-14em":"",class:"... overflow-hidden truncate"},bs=F({__name:"CategoryTree",props:{gid:{},name:{}},async setup(t){var s;let u,o;const{gid:i}=t,{data:c}=([u,o]=Ie(()=>to(i.toString())),u=await u,o(),u),r=I(((s=c.value)==null?void 0:s.data)||null);return(a,h)=>{const f=St,w=Ao,y=zo;return m(),S("div",hs,[_(y,{separator:"/",style:{"letter-spacing":"0.2em",cursor:"pointer"}},{default:p(()=>{var d;return[_(w,null,{default:p(()=>[_(f,{to:"/"},{default:p(()=>[A(" 主页 ")]),_:1})]),_:1}),X(_(w,null,{default:p(()=>{var n;return[_(f,{to:`/search?cid=${(n=e(r))==null?void 0:n.id}`},{default:p(()=>{var g;return[A(H((g=e(r))==null?void 0:g.name),1)]}),_:1},8,["to"])]}),_:1},512),[[Z,(d=e(r))==null?void 0:d.id]]),X(_(w,null,{default:p(()=>[l("p",ys,H(a.name),1)]),_:1},512),[[Z,a.name]])]}),_:1})])}}}),Ct=t=>(ze("data-v-1cc7c0fb"),t=t(),Ae(),t),ws={class:"swiper w-full flex flex-col"},ks=["src","alt","name","poster"],Is={class:"scale-imgs","mt-4":"","flex-row-c-c":""},Cs=Ct(()=>l("i",{"i-solar:alt-arrow-right-bold-duotone":"",absolute:"","left-0":"","top-0":"","h-full":"","w-full":"","p-0.6em":""},null,-1)),$s=[Cs],Ss=Ct(()=>l("i",{"i-solar:clapperboard-play-bold":"","mr-1":"","p-2.4":""},null,-1)),Es=["src","alt","name"],Bs=F({__name:"PreSwiper",props:{goodsName:{},images:{},video:{}},setup(t,{expose:u}){const{goodsName:o,images:i,video:c}=t,r=I(!1),s=M(()=>i.map(n=>n=se+n)),a=I(),h=I(i[0]||"");function f(n){var g;h.value=n,(g=a.value)==null||g.setActiveItem(n)}function w(n){h.value=i[n]}const y=()=>{var n;return(n=a.value)==null?void 0:n.next()},d=()=>{var n;return(n=a.value)==null?void 0:n.prev()};return de(h,n=>{var g,k;n!==c&&document?(g=document.querySelector("#pre-video-goods"))==null||g.pause():(k=document.querySelector("#pre-video-goods"))==null||k.play()}),u({setActiveItem:f,nextSwiper:y,prevSwiper:d,activeSmall:h}),(n,g)=>{const k=so,N=Xo,C=Xe,T=Wo,V=Ge,$=Ut,E=pt,P=Pt,O=We("auto-animate");return m(),S("div",ws,[_(V,null,{fallback:p(()=>[_(k,{class:"block h-360px w-full flex-row-c-c animate-pulse v-card",message:""})]),default:p(()=>[_(T,{ref_key:"swiper",ref:a,class:"w-full md:flex-1","indicator-position":"none",interval:6e3,arrow:"hover",trigger:"click",style:{},height:"360px",onChange:w},{default:p(()=>[n.video?(m(),K(N,{key:n.video,style:{width:"100%",height:"100%"},name:n.video,class:"swiper-item h-full w-full shadow card-default"},{default:p(()=>[(m(),S("video",{id:"pre-video-goods",key:n.video,autoplay:!1,class:"h-full w-full overflow-hidden card-default",src:("BaseUrlVideo"in n?n.BaseUrlVideo:e(Le))+n.video,alt:n.goodsName||" By Kiwi23333",name:n.video,style:{width:"100%","object-fit":"cover"},controls:"",loop:"",poster:e(s)[0]},null,8,ks))]),_:1},8,["name"])):R("",!0),(m(!0),S(ae,null,ne(n.images,(x,z)=>(m(),K(N,{key:x,style:{width:"100%",height:"100%"},name:x,class:"swiper-item relative h-full w-full shadow"},{default:p(()=>[_(C,{"preview-teleported":!0,loading:"lazy","preview-src-list":e(s),"initial-index":z,src:("BaseUrlImg"in n?n.BaseUrlImg:e(se))+x,alt:n.goodsName||"Design By Kiwi23333",fit:"scale-down",class:"h-full w-full card-default"},null,8,["preview-src-list","initial-index","src","alt"])]),_:2},1032,["name"]))),128))]),_:1},512)]),_:1}),l("div",Is,[_($,{class:"mx-1 h-2em w-2em flex-row-c-c cursor-pointer opacity-20 transition-200 hover:opacity-100",onClick:d}),X((m(),K(E,{"view-class":"flex py-4 cursor-pointer"},{default:p(()=>[n.video?(m(),S("div",{key:n.video,class:L(["scale-img relative mx-1 block h-4rem max-w-8rem min-w-4rem flex flex-shrink-0 flex-shrink-0 shadow card-default",{active:e(h)===n.video}]),onMouseenter:g[0]||(g[0]=x=>f(n.video))},$s,34)):R("",!0),(m(!0),S(ae,null,ne(n.images,(x,z)=>(m(),S("div",{key:z,class:L(["scale-img mx-1 block h-4rem max-w-8rem min-w-4rem flex flex-shrink-0 flex-shrink-0 shadow-sm card-default",{active:e(h)===x}])},[_(C,{"preview-teleported":"","preview-src-list":e(s),loading:"lazy",src:("BaseUrlImg"in n?n.BaseUrlImg:e(se))+x,alt:n.goodsName||"Design by Kiwi2333",class:"w-full rounded",style:{"max-width":"6em",padding:"0"},fit:"cover","transition-300":"","hover:scale-110":"",onMouseenter:J=>f(x)},null,8,["preview-src-list","src","alt","onMouseenter"])],2))),128))]),_:1})),[[O]]),_(P,{class:"mx-1 h-2em w-2em flex-row-c-c cursor-pointer opacity-20 transition-200 hover:opacity-100",onClick:y})]),n.video?(m(),S("small",{key:0,class:"mx-a my-2 w-6em flex-row-c-c cursor-pointer rounded-2em bg-gray-200 p-2 leading-1.2em shadow-md transition-200 hover:scale-110 dark:bg-dark-200",onClick:g[1]||(g[1]=x=>r.value=!0)},[Ss,A(" 视频 ")])):R("",!0),(m(),K(mt,{to:"body"},[_(Me,{name:"fade"},{default:p(()=>[e(r)?(m(),S("div",{key:0,class:"mock",onClick:g[2]||(g[2]=pe(x=>r.value=!1,["self"]))},[(m(),S("video",{key:n.video,class:"videoRef w-80vw md:w-40vw",src:("BaseUrlVideo"in n?n.BaseUrlVideo:e(Le))+n.video,alt:n.goodsName||" By Kiwi23333",name:n.video,controls:""},null,8,Es))])):R("",!0)]),_:1})]))])}}}),Ts=Ce(Bs,[["__scopeId","data-v-1cc7c0fb"]]),xs={"cursor-pointer":""},Ns=F({__name:"CollectGoods",props:{gid:{}},async setup(t){let u,o;const i=t,c=Oe(),r=I(!1);if(c.getTokenFn()&&i.gid){const{data:a}=([u,o]=Ie(()=>no(i.gid,c.getTokenFn())),u=await u,o(),u);r.value=!!a}async function s(){if(!i.gid)return;const{code:a,message:h}=await ro(i.gid,c.getToken);a===it.SUCCESS?(ye.success(`${r.value?"取消":"添加"}收藏成功`),r.value=!r.value):ye.error(h)}return(a,h)=>{const f=gs,w=We("auth");return m(),K(f,{style:{"text-align":"center"},"confirm-button-type":"danger","confirm-button-text":"确认","cancel-button-text":"取消",title:e(r)?"是否取消收藏?":"是否添加收藏?",onConfirm:s},{reference:p(()=>[X((m(),S("div",xs,[l("span",{class:L(e(r)?"i-solar:stars-minimalistic-bold-duotone bg-yellow-5":"i-solar:stars-minimalistic-broken"),"animate-zoom-in":"","p-3":"","transition-200":""},null,2)])),[[w]])]),_:1},8,["title"])}}}),re=t=>(ze("data-v-83017533"),t=t(),Ae(),t),Vs={class:"relative rounded-6px shadow -z-1 v-card","p-8":"","pb-2":""},zs={class:"top opacity-90","mt-2":"","flex-row-bt-c":""},As={class:"left"},Us={class:"sku-list",flex:"","flex-col":"","pt-6":"","leading-1.4em":"","tracking-0.1em":""},Ps={"mb-6":"","border-0":"","leading-1.4em":"","border-default-dashed":""},Ls={"mb-4":"","flex-row-bt-c":""},Ms=re(()=>l("small",{"float-left":"","opacity-90":""},"销售价（元）：",-1)),Ks={class:"righjt"},qs={"text-1.4em":"","text-red-5":"","font-700":""},Gs={style:{"text-decoration":"line-through",opacity:"0.9"},"text-0.8em":"","text-bluegray-3":""},Os={key:0,class:"card"},Hs=re(()=>l("small",null,"规 格",-1)),Ds=re(()=>l("small",{"pl-2":"","text-red-5":""},"请选择规格",-1)),Rs={key:1,class:"card"},Fs=re(()=>l("small",null,"颜 色",-1)),js=re(()=>l("small",{"pl-2":"","text-red-5":""},"请选择颜色",-1)),Ws=["src","alt"],Xs={"z-5":"","px-4":"","py-2":"","text-center":"",class:"tip"},Js={key:2,class:"card"},Qs=re(()=>l("small",null,"套 餐",-1)),Ys=re(()=>l("small",{"pl-2":"","text-red-5":""},"请选择套餐",-1)),Zs={key:0,class:"h-12rem w-full text-center leading-12rem"},ea={class:"card"},ta=re(()=>l("small",null,"数 量",-1)),oa={"text-red-5":""},sa={class:"relative mb-4 mt-2 w-1/1 py-3 text-2rem",grid:"~ gap-6 cols-2"},aa={class:"relative flex-row-c-c flex-1 shadow shadow-[var(--el-color-info-light-3)]"},la=re(()=>l("small",{block:""},"￥",-1)),na={class:"absolute w-full flex flex-col items-center font-600 -top-1.6rem"},ra=F({__name:"SkuCard",props:{goodsInfo:{},goodsSku:{}},emits:["setActiveItem"],async setup(t,{emit:u}){var ee,le,me,$e;let o,i;const{goodsInfo:c,goodsSku:r}=t,s=u,a=Oe(),h=Lt(),f=Ne({skuId:"",quantity:1,size:"",activityId:"",color:"",combo:""}),w=I(!1),y=I(!1),d=I();function n(v,B){v==null||v.validate(async D=>{if(D&&a.getToken)await h.addShopcartAction(f.skuId,f.quantity,a.getToken)?ye.success("添加成功！"):ye.error("添加失败，请稍后再试！");else return ye.closeAll(),!1}).catch(()=>!1)}const g=fo();function k(v){v==null||v.validate(async B=>{if(B&&a.getToken!==""){const D=[{skuId:f.skuId,activityId:f.activityId,quantity:f.quantity}];w.value=!0,setTimeout(async()=>{g.clearOrderItems(),g.$patch({pushOrderItems:[...D]}),w.value=!1,await Mt({path:"/order/detail"})},500)}else return ye.closeAll(),w.value=!1,!1}).catch(()=>!1)}const N=I([]),C=ct(),T=((ee=C==null?void 0:C.query)==null?void 0:ee.eventId)||((le=C==null?void 0:C.query)==null?void 0:le.eid);if(T&&(c!=null&&c.id)){const v=([o,i]=Ie(()=>po(c==null?void 0:c.id)),o=await o,i(),o);((me=v.data.value)==null?void 0:me.code)===it.SUCCESS&&(N.value=($e=v.data.value)==null?void 0:$e.data.filter(B=>B.eventId===T))}function V(v){var B;return((B=N.value.find(D=>v===D.skuId))==null?void 0:B.eventPrice)||0}const $=I([]),E=I([]),P=I([]);function O(){r==null||r.forEach(v=>{var B,D,ie;v.size&&!$.value.find(b=>b.name===v.size)&&((B=$.value)==null||B.push({id:v.id,name:v.size})),v.color&&!E.value.find(b=>b.name===v.color)&&((D=E.value)==null||D.push({id:v.id,name:v.color,image:v.image})),v.combo&&!P.value.find(b=>b.name===v.combo)&&((ie=P.value)==null||ie.push({id:v.id,name:v.combo}))})}O();const x=I("立即购买");de(f,v=>{const B=r==null?void 0:r.find(D=>v.color===(D.color||"")&&v.combo===(D.combo||"")&&v.size===(D.size||""));if(B){if(B.stock===0){x.value="暂无库存",y.value=!1;return}}else{y.value=!1,x.value="暂无该选配";return}y.value=!0,x.value="立即购买",f.skuId=B==null?void 0:B.id},{immediate:!1,deep:!0});const z=M(()=>{let v=0;return r==null||r.forEach(B=>{v+=B.stock}),v}),J=I(0),Q=Ne({activity:{add:0,reduce:0},all:0}),j=M(()=>{if(r)for(const v of r)if(v.id===f.skuId){c!=null&&c.postage&&(J.value=c==null?void 0:c.postage);let B=Pe(0),D=Pe(0);return V(f.skuId)&&T?(B=Pe(V(f.skuId)),D=D.add(v.price).subtract(V(f.skuId)),f.activityId=T==null?void 0:T.toString(),Q.activity.reduce=D.multiply(f.quantity).value):B=B.add(v.price),Q.all=D.multiply(f.quantity).value,B.multiply(f.quantity).add(J.value).value}else Q.activity={add:0,reduce:0},Q.all=0;return 0}),q=M(()=>{var v;return((v=r==null?void 0:r.find(B=>B.id===f.skuId))==null?void 0:v.stock)||0});function W(v){s("setActiveItem",v)}return(v,B)=>{const D=vt,ie=Ns,b=Ge,G=io,Y=co,te=Kt,oe=uo,fe=mo,ce=qt,Se=Gt,be=We("incre-up"),Ue=Ot;return m(),S("div",Vs,[_(Se,{ref_key:"FormRef",ref:d,model:e(f),"label-position":"top",class:"group"},{default:p(()=>{var we,Ee,Be,Te,xe;return[l("div",zs,[l("div",As,[(we=v.goodsInfo)!=null&&we.isNew?(m(),K(D,{key:0,class:"mr-2",effect:"dark",type:"danger"},{default:p(()=>[A(" 新品 ")]),_:1})):R("",!0),_(D,{class:"mr-2",effect:"light",type:"info"},{default:p(()=>{var U,he;return[A(H((U=v.goodsInfo)!=null&&U.postage?`${(he=v.goodsInfo)==null?void 0:he.postage}元运费`:"免运费"),1)]}),_:1}),_(D,{class:"mr-2",effect:"light",type:"info"},{default:p(()=>{var U,he;return[A(H((U=v.goodsInfo)!=null&&U.refundTime?`${(he=v.goodsInfo)==null?void 0:he.refundTime}日无理由退货`:""),1)]}),_:1})]),_(b,null,{default:p(()=>{var U;return[_(ie,{gid:(U=v.goodsInfo)==null?void 0:U.id},null,8,["gid"])]}),_:1})]),l("div",Us,[l("h3",Ps,H((Ee=v.goodsInfo)==null?void 0:Ee.name),1),l("div",Ls,[Ms,l("div",Ks,[l("span",qs,[A("￥ "),X(l("span",null,null,512),[[be,(Be=v.goodsInfo)==null?void 0:Be.price]])]),l("small",Gs,[A("￥ "),X(l("span",null,null,512),[[be,(Te=v.goodsInfo)==null?void 0:Te.costPrice]])])])]),e($).length?(m(),S("div",Os,[Hs,_(te,{prop:"size",required:"","mt-1":""},{error:p(()=>[Ds]),default:p(()=>[_(Y,{modelValue:e(f).size,"onUpdate:modelValue":B[0]||(B[0]=U=>e(f).size=U)},{default:p(()=>[(m(!0),S(ae,null,ne(e($),U=>(m(),K(G,{key:U.name,label:U.name},null,8,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})])):R("",!0),e(E).length?(m(),S("div",Rs,[Fs,_(te,{prop:"color",required:"","mt-1":""},{error:p(()=>[js]),default:p(()=>[_(Y,{modelValue:e(f).color,"onUpdate:modelValue":B[1]||(B[1]=U=>e(f).color=U),size:"large"},{default:p(()=>[(m(!0),S(ae,null,ne(e(E),U=>(m(),K(oe,{key:U.name,border:!0,label:U.name,style:{height:"4em","border-radius":"4px",margin:"0 0.4rem 0.4rem 0"},class:"color-group flex flex-col",onClick:he=>W(U.image)},{default:p(()=>[l("img",{loading:"lazy",class:"sku-img",src:("BaseUrlImg"in v?v.BaseUrlImg:e(se))+U.image,alt:U.name||"Design By Kiwi23333","z-0":"","overflow-hidden":"","rounded-4px":""},null,8,Ws),l("div",Xs,H(U.name),1)]),_:2},1032,["label","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})])):R("",!0),e(P).length?(m(),S("div",Js,[Qs,_(te,{prop:"combo",required:"","mt-1":""},{error:p(()=>[Ys]),default:p(()=>[_(Y,{modelValue:e(f).combo,"onUpdate:modelValue":B[2]||(B[2]=U=>e(f).combo=U)},{default:p(()=>[(m(!0),S(ae,null,ne(e(P),U=>(m(),K(G,{key:U.name,label:U.name},null,8,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})])):R("",!0)]),!v.goodsSku||!v.goodsSku.length?(m(),S("div",Zs," 暂未开售 ")):R("",!0),l("div",ea,[ta,_(te,{prop:"quantity",required:"","mt-2":""},{default:p(()=>[_(fe,{modelValue:e(f).quantity,"onUpdate:modelValue":B[3]||(B[3]=U=>e(f).quantity=U),disabled:e(q)===0,min:1,max:e(q)!==0?99:1},null,8,["modelValue","disabled","max"]),X(l("small",null,[A("（库存剩余："),l("span",oa,H(e(q)),1),A("件）")],512),[[Z,e(y)]]),X(l("small",null,"（总库存剩余："+H(e(z))+" 件）",513),[[Z,!e(y)]])]),_:1})]),l("div",sa,[_(ce,{"transition-icon":!0,plain:"","icon-class":"i-solar:cart-large-bold mr-2  transition-100",disabled:!v.goodsSku||!((xe=v.goodsSku)!=null&&xe.length)||!e(y),size:"large",class:"group relative w-full",style:{transition:"300ms","font-size":"1rem","letter-spacing":"0.2em"},onClick:B[4]||(B[4]=U=>n(e(d),U))},{default:p(()=>[A(" 加入购物车 ")]),_:1},8,["disabled"]),l("div",aa,[X((m(),K(ce,{"icon-class":"mr-2 i-solar:bag-bold",disabled:!e(y),size:"large",type:"info",class:"w-full",style:{transition:"300ms","font-size":"1rem","letter-spacing":"0.2em"},onClick:B[5]||(B[5]=U=>k(e(d)))},{default:p(()=>[A(H(e(x)||"立即购买"),1)]),_:1},8,["disabled"])),[[Ue,e(w),void 0,{fullscreen:!0,lock:!0}]]),l("div",{rounded:"t-6px","border-border-dark-300":"",relative:"","flex-row-c-c":"","border-2px":"","bg-white":"","p-2":"","text-0.9rem":"","text-red-5":"","shadow-md":"","border-default-dashed":"","dark:bg-dark-6":"",class:L(["all-price -translate-1/1",{active:e(y)}])},[la,X(l("h3",null,null,512),[[be,e(j)]]),X(l("div",na,[X(l("small",{flex:""}," -￥"+H(e(Q).activity.reduce.toFixed(2)),513),[[Z,e(Q).activity.reduce]])],512),[[Z,e(Q).all]])],2)])])]}),_:1},8,["model"])])}}}),ia=Ce(ra,[["__scopeId","data-v-83017533"]]),ca={class:"card w-full hover:border-[var(--el-color-primary)] hover:border-solid","border-2px":"","rounded-6px":"","p-4":"","shadow-none":"","transition-300":"","border-default-dashed":"","hover:shadow-lg":""},da={class:"top flex justify-between"},ua={flex:"","flex-1":"","flex-col":"","justify-around":""},ma={"text-0.9em":""},fa={"flex-row-c-c":"","justify-start":""},pa={"mr-4":"","opacity-80":""},va={class:"right","float-right":""},_a=l("i",{"i-solar:like-bold-duotone":"","mr-1":"","p-2":""},null,-1),ga={class:"text text-overflow-5 max-h-8.6em border-1px rounded-6px bg-[#6b6b6b0c] leading-1.5em border-default-dashed","mt-4":"","p-2":"","text-0.9em":"","md:p-4":""},ha={class:"flex"},ya=l("i",{class:"transition-200 group-hover:bg-dark","i-solar:play-circle-bold":"","z-1":"","bg-light":"","p-3":""},null,-1),ba={absolute:"","left-0":"","top-0":""},wa=["preview-src-list","src"],ka={class:"comment-sku","inline-flex":"","items-center":"","border-2px":"","rounded-6px":"","bg-gray-100":"","pr-4":"","backdrop-blur-3px":"","border-default-dashed":"","dark:bg-dark-300":""},Ia={class:"mt-2 w-full flex cursor-pointer justify-end"},Ca=F({__name:"CommentCard",props:{comment:{},skuItem:{}},emits:["showVideo"],setup(t){const{comment:u,skuItem:o}=t,i=M(()=>{var s;return(s=u.images)==null?void 0:s.map(a=>a=`${se+a}?imageView2/0/format/webp/interlace/1/q/50`)});function c(s){return["很差","差","一般","比较满意","强烈推荐"][Math.floor(s-1)]}function r(s){return[s==null?void 0:s.size,s==null?void 0:s.color,s==null?void 0:s.combo].join(" | ")}return(s,a)=>{var n,g;const h=Xe,f=go,w=_t,y=vt,d=pt;return m(),S("div",ca,[l("div",da,[_(h,{loading:"lazy","transition-300":"","hover:transform-scale-110":"",src:("BaseUrlImg"in s?s.BaseUrlImg:e(se))+s.comment.avatar,style:{width:"3em",height:"3em"},class:"avatar border-default-deshed mr-2 border-1px rounded-10em",fit:"cover"},null,8,["src"]),l("div",ua,[l("p",ma,H(s.comment.isAnonymous?"匿名用户":s.comment.nickName),1),l("div",fa,[l("small",pa,H(s.comment.createTime),1),_(f,{"model-value":s.comment.rate,class:"float-left",disabled:"","allow-half":""},null,8,["model-value"]),_(w,{class:"hidden md:inline"},{default:p(()=>[A(H(c(s.comment.rate)),1)]),_:1})])]),l("div",va,[s.comment.isRecommend?(m(),K(y,{key:0,effect:"dark"},{default:p(()=>[_a,A(" 买家推荐 ")]),_:1})):R("",!0)])]),l("p",ga,H(s.comment.content),1),_(d,{class:"my-4"},{default:p(()=>[l("div",ha,[s.comment.video?(m(),S("div",{key:0,class:"group relative mr-2 flex-row-c-c flex-shrink-0 cursor-pointer overflow-hidden border-1px rounded-4px border-default-dashed","h-5rem":"","w-5rem":"","backdrop-blur-12px":"","md:h-6rem":"","md:w-6rem":"",style:{"background-color":"rgba(73, 73, 73, 0.4)"},onClick:a[0]||(a[0]=k=>s.$emit("showVideo",s.comment.video))},[ya,l("div",ba,[s.comment.images.length?(m(),S("img",{key:0,loading:"lazy","preview-src-list":e(i),"preview-teleported":"","transition-300":"","hover:transform-scale-110":"",src:("BaseUrlImg"in s?s.BaseUrlImg:e(se))+s.comment.images[s.comment.images.length-1],class:"mr-2 h-5rem w-5rem flex-shrink-0 object-cover filter-blur-4px md:h-6rem md:w-6rem"},null,8,wa)):R("",!0)])])):R("",!0),(m(!0),S(ae,null,ne(s.comment.images,k=>(m(),K(h,{key:k,loading:"lazy","preview-src-list":e(i),"preview-teleported":"","transition-300":"","hover:transform-scale-110":"",src:("BaseUrlImg"in s?s.BaseUrlImg:e(se))+k,class:"mr-2 h-5rem w-5rem flex-shrink-0 border-1px rounded-4px md:h-6rem md:w-6rem border-default-dashed",fit:"cover"},null,8,["preview-src-list","src"]))),128))])]),_:1}),l("div",ka,[X(_(h,{loading:"lazy","transition-300":"","hover:transform-scale-110":"",src:`${("BaseUrlImg"in s?s.BaseUrlImg:e(se))+((n=s.skuItem)==null?void 0:n.image)}?imageView2/0/w/100/h/100/format/q/50`,style:{width:"3rem",height:"3rem"},class:"mr-2 border-1px rounded-4px border-default-dashed",fit:"cover"},null,8,["src"]),[[Z,(g=s.skuItem)==null?void 0:g.image]]),l("small",null,H(r(s.skuItem)),1)]),l("div",Ia,[_(w,{type:"primary",style:{"margin-left":"0.4rem"},"text-0.9em":""},{default:p(()=>[A(" 评论 ")]),_:1}),_(w,{type:"primary",style:{"margin-left":"0.4rem"},"text-0.9em":""},{default:p(()=>[A(" 回复 ")]),_:1})])])}}});function $a(t,u,o){return bo(()=>`${Ht}/goods/comments/${t}/${u}/${o}`,"$fogQwoeqNq")}const Sa=l("small",{"mb-10":"","inline-block":"","w-full":"","text-center":""}," 暂时没有更多评论 ",-1),Ea=l("small",{"mb-10":"","inline-block":"","w-full":"","text-center":""}," 加载中... ",-1),Ba=["src"],Ta=F({__name:"CommentList",props:{goodsId:{},skuList:{}},setup(t){const{goodsId:u,skuList:o}=t,i=I(!1),c=I([]),r=I(0),s=I(10),a=I({records:[],total:-1,pages:-1,size:-1,current:-1}),h=M(()=>a.value.current>0&&a.value.current>=a.value.pages),f=Ne(new Map);o==null||o.forEach(g=>{f.set(g.id,g)});async function w(){var N,C;if(i.value||h.value)return;i.value=!0,r.value++;const k=(N=(await $a(r.value,s.value,u)).data.value)==null?void 0:N.data;if(h.value||(k==null?void 0:k.total)===-1)return i.value=!1;a.value=k,k!=null&&k.records&&((C=k.records)==null||C.forEach(T=>{var V;T.images=typeof T.images=="string"?(V=T.images)==null?void 0:V.split(","):[]}),c.value.push(...k.records),i.value=!1)}w();const y=I(!1),d=I("");function n(g){g&&(d.value=g,y.value=!0)}return(g,k)=>{const N=Ca,C=ho,T=yo;return m(),S(ae,null,[_(C,{immediate:!0,"no-more":e(h),onLoad:w},{done:p(()=>[Sa]),load:p(()=>[Ea]),default:p(()=>[(m(!0),S(ae,null,ne(e(c),V=>(m(),K(N,{key:V.id,class:"mb-4",comment:V,"sku-item":e(f).get(V.skuId),onShowVideo:n},null,8,["comment","sku-item"]))),128))]),_:1},8,["no-more"]),(m(),K(mt,{to:"body"},[_(T,{modelValue:e(y),"onUpdate:modelValue":k[0]||(k[0]=V=>ft(y)?y.value=V:null)},{default:p(()=>[e(y)?(m(),S("video",{key:0,src:("BaseUrlVideo"in g?g.BaseUrlVideo:e(Le))+e(d),controls:"","h-full":"","w-full":""},null,8,Ba)):R("",!0)]),_:1},8,["modelValue"])]))],64)}}}),xa={},Na=l("li",{"text-4":"","my-2":"","font-700":"",style:{"list-style":"circle"}},[A(" 常见问题？ "),l("i",{"i-solar:question-circle-broken":"","p-2":""})],-1),Va=l("div",null,[A(" 1、如何下单购买商品？ "),l("br"),A(" 答：在您浏览商品时，点击“加入购物车”，确认购物车中的商品，然后点击“结算并付款”，选择付款方式和收货地址即可下单购买。 ")],-1),za=l("div",null,[A(" 2、商品发货时间是多久？ "),l("br"),A(" 答：通常情况下，我们将在24小时内发货。如果出现特殊情况，例如节假日等，我们将提前在网站上进行通知。 ")],-1),Aa=l("div",null,[A(" 3、如何查询我的订单状态？ "),l("br"),A(" 答：您可以在“我的订单”中查看所有订单的状态，包括待付款、待发货、已发货等状态。 ")],-1),Ua=l("div",null,[A(" 4、是否支持货到付款？ "),l("br"),A(" 答：目前我们暂时不支持货到付款，仅支持在线支付。 ")],-1),Pa=l("li",{"text-4":"","my-2":"","mb-4":"","font-700":"",style:{"list-style":"circle"}}," 购买须知： ",-1),La=l("p",{style:{"text-indent":"2em","line-height":"1.4em"},"opacity-80":""}," 商品展示的划线价或指导价可能是商品制造厂商的零售市场指导价、品牌专柜价、商品吊牌价或该商品在极物圈上曾经展示过的销售价；由于地区、时间的不同和市场波动，品牌专柜标价、商品吊牌价等可能会与您购物时展示的不一致，该价格仅供您参考。 因系统缓存更新延迟等不确定性情况，可能导致价格显示异常，商品具体售价请以订单结算页价格为准。 若您对商品展示有疑问，欢迎咨询客服。 为保护广大消费者的利益，极物圈抵制囤积居奇等扰乱市场的行为，我们会对商品的下单进行风险控制，并保留取消非正常购买订单之权利。 ",-1);function Ma(t,u){const o=us,i=ds;return m(),S("div",null,[_(i,{accordion:""},{default:p(()=>[_(o,{name:"1"},{title:p(()=>[Na]),default:p(()=>[Va,za,Aa,Ua]),_:1})]),_:1}),Pa,La])}const Ka=Ce(xa,[["render",Ma]]),qa=t=>(ze("data-v-56c92d63"),t=t(),Ae(),t),Ga={class:"text","mb-4":"","rounded-6px":"","px-4":"","leading-2em":"","border-default-dashed":""},Oa=qa(()=>l("br",null,null,-1)),Ha={class:"imgs overflow-hidden rounded-4px",flex:"","flex-col":""},Da=F({__name:"DetailTabs",props:{goodsInfo:{},skuList:{}},setup(t){const u=I("detail");return(o,i)=>{const c=eo("v-md-preview"),r=Ge,s=_t,a=Xe,h=vo,f=Ta,w=Ka,y=_o;return m(),K(y,{modelValue:e(u),"onUpdate:modelValue":i[0]||(i[0]=d=>ft(u)?u.value=d:null),class:"goods-tabs","tab-position":"top",type:"border-card"},{default:p(()=>[_(h,{name:"detail",class:"mt-2 animate-[fade-in_0.4s]",label:"详 情"},{default:p(()=>{var d,n,g,k,N,C,T;return[X(l("h3",{"mb-4":"","ml-2":""},H((d=o.goodsInfo)==null?void 0:d.name),513),[[Z,!((n=o.goodsInfo)!=null&&n.description)]]),_(r,null,{default:p(()=>{var V,$;return[(V=o.goodsInfo)!=null&&V.description?(m(),K(c,{key:0,class:"markdown mb-4",text:($=o.goodsInfo)==null?void 0:$.description},null,8,["text"])):R("",!0)]}),_:1}),l("div",Ga,[l("small",null," 发货地："+H((((g=o.goodsInfo)==null?void 0:g.province)||"")+(((k=o.goodsInfo)==null?void 0:k.city)||"")+((N=o.goodsInfo)==null?void 0:N.district)),1),Oa,l("small",null,[A(" 保障： "),(C=o.goodsInfo)!=null&&C.refundTime?(m(),K(s,{key:0},{default:p(()=>{var V;return[A(H((V=o.goodsInfo)==null?void 0:V.refundTime)+"日无理由退换货",1)]}),_:1})):R("",!0)])]),l("div",Ha,[(m(!0),S(ae,null,ne((T=o.goodsInfo)==null?void 0:T.images,V=>(m(),K(a,{key:V,loading:"lazy",style:{width:"100%","margin-bottom":"0.3em"},src:("BaseUrlImg"in o?o.BaseUrlImg:e(se))+V,alt:V},null,8,["src","alt"]))),128))])]}),_:1}),_(h,{lazy:"",name:"comment",class:"mt-2 animate-[fade-in_0.4s]",label:"评 价"},{default:p(()=>{var d;return[_(f,{"goods-id":((d=o.goodsInfo)==null?void 0:d.id)||"","sku-list":o.skuList},null,8,["goods-id","sku-list"])]}),_:1}),_(h,{name:"other",lazy:"",class:"mt-2 animate-[fade-in_0.4s] px-2",label:"其 他"},{default:p(()=>[_(w)]),_:1})]),_:1},8,["modelValue"])}}}),Ra=Ce(Da,[["__scopeId","data-v-56c92d63"]]),$t=t=>(ze("data-v-d7be2537"),t=t(),Ae(),t),Fa={class:"goods-detail mb-50vh layout-default"},ja={class:"top pt-2",flex:"","items-center":""},Wa={class:"mt-6 min-h-74vh w-full flex-row-bt-c flex-wrap gap-x-20"},Xa={"mt-5rem":"","w-full":"",flex:"","flex-wrap":"","justify-between":"","border-0":"","border-default":"","border-t":"2px solid",class:"bottom"},Ja={class:"left w-full pt-3rem md:w-2/3"},Qa=$t(()=>l("h2",{"tracking-0.1em":""},[l("i",{"i-solar:bolt-outline":"","mr-2":"","bg-amber":"","p-3.5":""}),A(" 商品介绍 ")],-1)),Ya={key:1,class:"h-10rem w-full text-center leading-10rem"},Za={class:"w-full pt-3rem md:w-1/3"},el=$t(()=>l("h2",{"mb-0.8em":"","tracking-0.1em":""},[l("i",{"i-solar:bomb-emoji-outline":"","mr-2":"","bg-lime":"","p-4":""}),A(" 猜你喜欢 ")],-1)),tl=F({__name:"[id]",async setup(t){let u,o;const i=ct(),c=Oe(),r=i.params.id,s=([u,o]=Ie(()=>$o(r.toString())),u=await u,o(),u),a=([u,o]=Ie(()=>Io(r.toString())),u=await u,o(),u),h=I();function f(y){var d;(d=h==null?void 0:h.value)==null||d.setActiveItem(y)}const w=M(()=>{var d,n,g,k,N,C,T,V,$;const y=new Set;return(d=a.data.value)!=null&&d.data&&((n=a.data.value)!=null&&n.data.images)&&(a.data.value.data.images=(g=a.data.value)==null?void 0:g.data.images.toString().split(",")),(N=(k=s.data.value)==null?void 0:k.data)==null||N.forEach(E=>{E.image&&y.add(E.image)}),Array.isArray((T=(C=a.data.value)==null?void 0:C.data)==null?void 0:T.images)&&(($=(V=a.data.value)==null?void 0:V.data)==null||$.images.forEach(E=>{y.add(E)})),[...y]});return wo(async()=>{c.isLogin&&await Co(r.toString(),c.getToken)},"$3uEUgPC4sJ"),Dt({title:()=>{var y,d;return`极物商品 - ${(d=(y=a.data.value)==null?void 0:y.data)==null?void 0:d.name}`},description:()=>{var y,d,n,g;return`${(d=(y=a.data.value)==null?void 0:y.data)==null?void 0:d.name}+${(g=(n=a.data.value)==null?void 0:n.data)==null?void 0:g.description}`}}),(y,d)=>{const n=bs,g=Ts,k=ia,N=Ra,C=oo,T=Rt;return m(),S("div",null,[_(T,{name:"second",menu:["shopcart","back","home"]},{default:p(()=>{var V,$,E,P,O,x,z,J,Q,j,q,W,ee,le,me;return[l("div",Fa,[l("section",ja,[_(n,{class:"left",gid:e(r).toString(),name:($=(V=e(a).data.value)==null?void 0:V.data)==null?void 0:$.name},null,8,["gid","name"])]),l("main",Wa,[_(g,{ref_key:"goodsSwiper",ref:h,class:"mx-a mt-6 w-full md:w-500px",images:e(w),video:(P=(E=e(a).data.value)==null?void 0:E.data)==null?void 0:P.video,"goods-name":(x=(O=e(a).data.value)==null?void 0:O.data)==null?void 0:x.name},null,8,["images","video","goods-name"]),_(k,{class:"z-1 mt-2rem w-full md:w-1/3","goods-info":(z=e(a).data.value)==null?void 0:z.data,"goods-sku":(J=e(s).data.value)==null?void 0:J.data,onSetActiveItem:f},null,8,["goods-info","goods-sku"])]),l("section",Xa,[l("div",Ja,[Qa,(q=(j=(Q=e(s))==null?void 0:Q.data)==null?void 0:j.value)!=null&&q.data?(m(),K(N,{key:0,class:"mt-10 min-h-800px w-full overflow-hidden rounded-4px shadow-sm md:w-680px dark:opacity-90","goods-info":(W=e(a).data.value)==null?void 0:W.data,"sku-list":(ee=e(s).data.value)==null?void 0:ee.data},null,8,["goods-info","sku-list"])):(m(),S("div",Ya," 暂无内容 "))]),l("div",Za,[el,_(C,{class:"grid grid-cols-2 grid-gap-x-4 grid-gap-y-2",dto:{name:(me=(le=e(a).data.value)==null?void 0:le.data)==null?void 0:me.name[Math.floor(Math.random())]},limit:10},null,8,["dto"])])])])]}),_:1})])}}}),Pl=Ce(tl,[["__scopeId","data-v-d7be2537"]]);export{Pl as default};
