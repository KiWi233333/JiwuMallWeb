import{_ as k}from"./ElImage.H3VTC2Vd.js";import{_ as I}from"./nuxt-link.eZ5kOSgI.js";import{u as b,B as w,S as B}from"./entry.HuYbGiLS.js";import{j as S}from"./post.vbJ-6447.js";import{j as U,a as y,ao as L,L as i,M as u,Z as m,a0 as D,u as _,N as r,a3 as v,_ as N,ar as E,X as f,a9 as T}from"./swiper-vue.4ZhlhtKr.js";const V={class:"flex flex-col gap-3 rounded-4px v-card"},j={"text-center":""},q={class:"title text-1em"},z={class:"text-1em"},Z=U({__name:"UserPostTotal",props:{user:{},dto:{},gridClass:{default:"grid grid-cols-4 grid-gap-4"},cardClass:{default:""}},setup(g){const a=g,p=b(),s=y([{label:"帖子",value:0},{label:"评论",value:0},{label:"收藏",value:0},{label:"点赞",value:0}]);async function C(){var e,n;if((e=a==null?void 0:a.dto)!=null&&e.userId){const t=await S({userId:(n=a==null?void 0:a.dto)==null?void 0:n.userId},p.getToken);t.code===B.SUCCESS&&(s.value[0].value=t.data.postCount,s.value[1].value=t.data.postCommentCount,s.value[2].value=t.data.postCollectCount,s.value[3].value=t.data.postLikeCount)}}return C(),(e,n)=>{var c;const t=k,h=I,x=L("incre-up-int");return i(),u("div",V,[m(h,{to:{path:"/user/info",query:{id:(c=a==null?void 0:a.dto)==null?void 0:c.userId}},class:"flex flex-col"},{default:D(()=>{var o,l,d;return[m(t,{loading:"lazy","transition-300":"","hover:transform-scale-110":"",class:"mx-a h-5rem w-5rem rounded-1/2 border-default",src:`${("BaseUrlImg"in e?e.BaseUrlImg:_(w))+((o=e.user)==null?void 0:o.avatar)}?imageView2/0/format/webp/interlace/1/q/70`,alt:(l=e.user)==null?void 0:l.nickname,fit:"cover"},null,8,["src","alt"]),r("h4",j,v((d=e.user)==null?void 0:d.nickname),1)]}),_:1},8,["to"]),r("div",{class:f(e.gridClass)},[(i(!0),u(N,null,E(_(s),(o,l)=>(i(),u("div",{key:l,class:f(["w-full p-2 text-center leading-1.8em transition-200 hover-scale-110",e.cardClass])},[r("div",q,v(o.label),1),T(r("span",z,null,512),[[x,o.value]])],2))),128))],2)])}}});export{Z as _};
