import{v as Yt,p as It,f as Rt,m as gt,b as kt,d as j,a as da,r as Lt,e as Kt,c as zt,l as fa}from"./localeData.CPZ9gcTj.js";import{b7 as et,b8 as tt,M as ke,R as se,aV as va,ao as pa,a7 as Re,O as $e,aI as ma,aK as At,b9 as ha,ba,ar as ga,bb as ka,c as Je,T as fe,Q as Be,at as me,bc as ya,bd as wa,aW as Da,a0 as Sa,au as Ut,be as ut,Z as wt,$ as mt,bf as ct,i as bt}from"./entry.t-rqPOs0.js";import{j as Te,aa as Vt,i as Ge,a as Z,k as I,b as Oe,n as xe,J as ye,u as e,p as Dt,O as V,a7 as be,a2 as te,Z as b,a4 as Ft,ad as Ne,a3 as ft,a8 as ce,Q as U,a5 as oe,X as dt,P as K,Y as Wt,I as Ca,a0 as he,as as Pe,a6 as je,ab as Ie,$ as L,ae as Pa,ak as st,a1 as Ht,t as ot,ac as nt,W as St,g as jt,r as Ma}from"./swiper-vue.Dj7aAS3P.js";import{c as Qe}from"./arrays.9GuX8ZvT.js";import{f as _a}from"./flatten.qRdZVAia.js";import{E as $a,T as Ta}from"./popper.b7Al0Wsi.js";import{E as Va}from"./scrollbar.VqFpSCdd.js";import{v as Nt}from"./index.m5OxfFYg.js";import{d as Oa}from"./debounce.0E-5_dMF.js";import{C as Ct}from"./index.dh5FAeg5.js";import{i as xa}from"./isEqual.OSnr_sHV.js";var Gt={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,m=/\d\d/,g=/\d\d?/,k=/\d*[^-_:/,()\s\d]+/,C={},w=function(s){return(s=+s)+(s>68?1900:2e3)},y=function(s){return function(T){this[s]=+T}},D=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(T){if(!T||T==="Z")return 0;var $=T.match(/([+-]|\d\d)/g),i=60*$[1]+(+$[2]||0);return i===0?0:$[0]==="+"?-i:i}(s)}],P=function(s){var T=C[s];return T&&(T.indexOf?T:T.s.concat(T.f))},h=function(s,T){var $,i=C.meridiem;if(i){for(var z=1;z<=24;z+=1)if(s.indexOf(i(z,0,T))>-1){$=z>12;break}}else $=s===(T?"pm":"PM");return $},c={A:[k,function(s){this.afternoon=h(s,!1)}],a:[k,function(s){this.afternoon=h(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[m,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[g,y("seconds")],ss:[g,y("seconds")],m:[g,y("minutes")],mm:[g,y("minutes")],H:[g,y("hours")],h:[g,y("hours")],HH:[g,y("hours")],hh:[g,y("hours")],D:[g,y("day")],DD:[m,y("day")],Do:[k,function(s){var T=C.ordinal,$=s.match(/\d+/);if(this.day=$[0],T)for(var i=1;i<=31;i+=1)T(i).replace(/\[|\]/g,"")===s&&(this.day=i)}],M:[g,y("month")],MM:[m,y("month")],MMM:[k,function(s){var T=P("months"),$=(P("monthsShort")||T.map(function(i){return i.slice(0,3)})).indexOf(s)+1;if($<1)throw new Error;this.month=$%12||$}],MMMM:[k,function(s){var T=P("months").indexOf(s)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,y("year")],YY:[m,function(s){this.year=w(s)}],YYYY:[/\d{4}/,y("year")],Z:D,ZZ:D};function d(s){var T,$;T=s,$=C&&C.formats;for(var i=(s=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,q,G){var ae=G&&G.toUpperCase();return q||$[G]||l[G]||$[ae].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,ee,de){return ee||de.slice(1)})})).match(n),z=i.length,M=0;M<z;M+=1){var E=i[M],F=c[E],R=F&&F[0],O=F&&F[1];i[M]=O?{regex:R,parser:O}:E.replace(/^\[|\]$/g,"")}return function(N){for(var q={},G=0,ae=0;G<z;G+=1){var B=i[G];if(typeof B=="string")ae+=B.length;else{var ee=B.regex,de=B.parser,pe=N.slice(ae),W=ee.exec(pe)[0];de.call(q,W),N=N.replace(W,"")}}return function(A){var a=A.afternoon;if(a!==void 0){var r=A.hours;a?r<12&&(A.hours+=12):r===12&&(A.hours=0),delete A.afternoon}}(q),q}}return function(s,T,$){$.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(w=s.parseTwoDigitYear);var i=T.prototype,z=i.parse;i.parse=function(M){var E=M.date,F=M.utc,R=M.args;this.$u=F;var O=R[1];if(typeof O=="string"){var N=R[2]===!0,q=R[3]===!0,G=N||q,ae=R[2];q&&(ae=R[2]),C=this.$locale(),!N&&ae&&(C=$.Ls[ae]),this.$d=function(pe,W,A){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*pe);var a=d(W)(pe),r=a.year,v=a.month,S=a.day,H=a.hours,J=a.minutes,ne=a.seconds,re=a.milliseconds,ie=a.zone,we=new Date,De=S||(r||v?1:we.getDate()),Ae=r||we.getFullYear(),Me=0;r&&!v||(Me=v>0?v-1:we.getMonth());var ve=H||0,Se=J||0,Ce=ne||0,Ve=re||0;return ie?new Date(Date.UTC(Ae,Me,De,ve,Se,Ce,Ve+60*ie.offset*1e3)):A?new Date(Date.UTC(Ae,Me,De,ve,Se,Ce,Ve)):new Date(Ae,Me,De,ve,Se,Ce,Ve)}catch{return new Date("")}}(E,O,F),this.init(),ae&&ae!==!0&&(this.$L=this.locale(ae).$L),G&&E!=this.format(O)&&(this.$d=new Date("")),C={}}else if(O instanceof Array)for(var B=O.length,ee=1;ee<=B;ee+=1){R[1]=O[ee-1];var de=$.apply(this,R);if(de.isValid()){this.$d=de.$d,this.$L=de.$L,this.init();break}ee===B&&(this.$d=new Date(""))}else z.call(this,M)}}})})(Gt);var Ya=Gt.exports;const Ia=tt(Ya),Et=["hours","minutes","seconds"],Bt="HH:mm:ss",lt="YYYY-MM-DD",Ra={date:lt,dates:lt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${lt} ${Bt}`,monthrange:"YYYY-MM",daterange:lt,datetimerange:`${lt} ${Bt}`},Zt=ke({disabledHours:{type:se(Function)},disabledMinutes:{type:se(Function)},disabledSeconds:{type:se(Function)}}),Aa=ke({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),qt=ke({id:{type:se([Array,String])},name:{type:se([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:se([String,Object]),default:va},editable:{type:Boolean,default:!0},prefixIcon:{type:se([String,Object]),default:""},size:pa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:se(Object),default:()=>({})},modelValue:{type:se([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:se([Date,Array])},defaultTime:{type:se([Date,Array])},isRange:{type:Boolean,default:!1},...Zt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:se([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Fa=["id","name","placeholder","value","disabled","readonly"],Na=["id","name","placeholder","value","disabled","readonly"],Ea=Te({name:"Picker"}),Ba=Te({...Ea,props:qt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(u,{expose:f,emit:l}){const n=u,m=Vt(),{lang:g}=Re(),k=$e("date"),C=$e("input"),w=$e("range"),{form:y,formItem:D}=ma(),P=Ge("ElPopperOptions",{}),h=Z(),c=Z(),d=Z(!1),s=Z(!1),T=Z(null);let $=!1,i=!1;const z=I(()=>[k.b("editor"),k.bm("editor",n.type),C.e("wrapper"),k.is("disabled",S.value),k.is("active",d.value),w.b("editor"),Le?w.bm("editor",Le.value):"",m.class]),M=I(()=>[C.e("icon"),w.e("close-icon"),De.value?"":w.e("close-icon--hidden")]);Oe(d,t=>{t?xe(()=>{t&&(T.value=n.modelValue)}):(Q.value=null,xe(()=>{E(n.modelValue)}))});const E=(t,_)=>{(_||!Yt(t,T.value))&&(l("change",t),n.validateEvent&&(D==null||D.validate("change").catch(X=>At())))},F=t=>{if(!Yt(n.modelValue,t)){let _;ye(t)?_=t.map(X=>Rt(X,n.valueFormat,g.value)):t&&(_=Rt(t,n.valueFormat,g.value)),l("update:modelValue",t&&_,g.value)}},R=t=>{l("keydown",t)},O=I(()=>{if(c.value){const t=ge.value?c.value:c.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),N=(t,_,X)=>{const ue=O.value;ue.length&&(!X||X==="min"?(ue[0].setSelectionRange(t,_),ue[0].focus()):X==="max"&&(ue[1].setSelectionRange(t,_),ue[1].focus()))},q=()=>{A(!0,!0),xe(()=>{i=!1})},G=(t="",_=!1)=>{_||(i=!0),d.value=_;let X;ye(t)?X=t.map(ue=>ue.toDate()):X=t&&t.toDate(),Q.value=null,F(X)},ae=()=>{s.value=!0},B=()=>{l("visible-change",!0)},ee=t=>{(t==null?void 0:t.key)===me.esc&&A(!0,!0)},de=()=>{s.value=!1,d.value=!1,i=!1,l("visible-change",!1)},pe=()=>{d.value=!0},W=()=>{d.value=!1},A=(t=!0,_=!1)=>{i=_;const[X,ue]=e(O);let Ye=X;!t&&ge.value&&(Ye=ue),Ye&&Ye.focus()},a=t=>{n.readonly||S.value||d.value||i||(d.value=!0,l("focus",t))};let r;const v=t=>{const _=async()=>{setTimeout(()=>{var X;r===_&&(!((X=h.value)!=null&&X.isFocusInsideContent()&&!$)&&O.value.filter(ue=>ue.contains(document.activeElement)).length===0&&(Ze(),d.value=!1,l("blur",t),n.validateEvent&&(D==null||D.validate("blur").catch(ue=>At()))),$=!1)},0)};r=_,_()},S=I(()=>n.disabled||(y==null?void 0:y.disabled)),H=I(()=>{let t;if(Me.value?o.value.getDefaultValue&&(t=o.value.getDefaultValue()):ye(n.modelValue)?t=n.modelValue.map(_=>It(_,n.valueFormat,g.value)):t=It(n.modelValue,n.valueFormat,g.value),o.value.getRangeAvailableTime){const _=o.value.getRangeAvailableTime(t);xa(_,t)||(t=_,F(ye(t)?t.map(X=>X.toDate()):t.toDate()))}return ye(t)&&t.some(_=>!_)&&(t=[]),t}),J=I(()=>{if(!o.value.panelReady)return"";const t=ze(H.value);return ye(Q.value)?[Q.value[0]||t&&t[0]||"",Q.value[1]||t&&t[1]||""]:Q.value!==null?Q.value:!re.value&&Me.value||!d.value&&Me.value?"":t?ie.value?t.join(", "):t:""}),ne=I(()=>n.type.includes("time")),re=I(()=>n.type.startsWith("time")),ie=I(()=>n.type==="dates"),we=I(()=>n.prefixIcon||(ne.value?ha:ba)),De=Z(!1),Ae=t=>{n.readonly||S.value||De.value&&(t.stopPropagation(),q(),F(null),E(null,!0),De.value=!1,d.value=!1,o.value.handleClear&&o.value.handleClear())},Me=I(()=>{const{modelValue:t}=n;return!t||ye(t)&&!t.filter(Boolean).length}),ve=async t=>{var _;n.readonly||S.value||(((_=t.target)==null?void 0:_.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(d.value=!0)},Se=()=>{n.readonly||S.value||!Me.value&&n.clearable&&(De.value=!0)},Ce=()=>{De.value=!1},Ve=t=>{var _;n.readonly||S.value||(((_=t.touches[0].target)==null?void 0:_.tagName)!=="INPUT"||O.value.includes(document.activeElement))&&(d.value=!0)},ge=I(()=>n.type.includes("range")),Le=ga(),at=I(()=>{var t,_;return(_=(t=e(h))==null?void 0:t.popperRef)==null?void 0:_.contentRef}),_e=I(()=>{var t;return e(ge)?e(c):(t=e(c))==null?void 0:t.$el});ka(_e,t=>{const _=e(at),X=e(_e);_&&(t.target===_||t.composedPath().includes(_))||t.target===X||t.composedPath().includes(X)||(d.value=!1)});const Q=Z(null),Ze=()=>{if(Q.value){const t=Ke(J.value);t&&Ee(t)&&(F(ye(t)?t.map(_=>_.toDate()):t.toDate()),Q.value=null)}Q.value===""&&(F(null),E(null),Q.value=null)},Ke=t=>t?o.value.parseUserInput(t):null,ze=t=>t?o.value.formatToString(t):null,Ee=t=>o.value.isValidValue(t),qe=async t=>{if(n.readonly||S.value)return;const{code:_}=t;if(R(t),_===me.esc){d.value===!0&&(d.value=!1,t.preventDefault(),t.stopPropagation());return}if(_===me.down&&(o.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),d.value===!1&&(d.value=!0,await xe()),o.value.handleFocusPicker)){o.value.handleFocusPicker();return}if(_===me.tab){$=!0;return}if(_===me.enter||_===me.numpadEnter){(Q.value===null||Q.value===""||Ee(Ke(J.value)))&&(Ze(),d.value=!1),t.stopPropagation();return}if(Q.value){t.stopPropagation();return}o.value.handleKeydownInput&&o.value.handleKeydownInput(t)},Ue=t=>{Q.value=t,d.value||(d.value=!0)},We=t=>{const _=t.target;Q.value?Q.value=[_.value,Q.value[1]]:Q.value=[_.value,null]},rt=t=>{const _=t.target;Q.value?Q.value=[Q.value[0],_.value]:Q.value=[null,_.value]},Xe=()=>{var t;const _=Q.value,X=Ke(_&&_[0]),ue=e(H);if(X&&X.isValid()){Q.value=[ze(X),((t=J.value)==null?void 0:t[1])||null];const Ye=[X,ue&&(ue[1]||null)];Ee(Ye)&&(F(Ye),Q.value=null)}},He=()=>{var t;const _=e(Q),X=Ke(_&&_[1]),ue=e(H);if(X&&X.isValid()){Q.value=[((t=e(J))==null?void 0:t[0])||null,ze(X)];const Ye=[ue&&ue[0],X];Ee(Ye)&&(F(Ye),Q.value=null)}},o=Z({}),x=t=>{o.value[t[0]]=t[1],o.value.panelReady=!0},p=t=>{l("calendar-change",t)},Y=(t,_,X)=>{l("panel-change",t,_,X)};return Dt("EP_PICKER_BASE",{props:n}),f({focus:A,handleFocusInput:a,handleBlurInput:v,handleOpen:pe,handleClose:W,onPick:G}),(t,_)=>(V(),be(e($a),Wt({ref_key:"refPopper",ref:h,visible:d.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(k).namespace.value}-zoom-in-top`,"popper-class":[`${e(k).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(P),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:ae,onShow:B,onHide:de}),{default:te(()=>[e(ge)?(V(),K("div",{key:1,ref_key:"inputRef",ref:c,class:b(e(z)),style:Ft(t.$attrs.style),onClick:a,onMouseenter:Se,onMouseleave:Ce,onTouchstart:Ve,onKeydown:qe},[e(we)?(V(),be(e(fe),{key:0,class:b([e(C).e("icon"),e(w).e("icon")]),onMousedown:Ne(ve,["prevent"]),onTouchstart:Ve},{default:te(()=>[(V(),be(ft(e(we))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),U("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(J)&&e(J)[0],disabled:e(S),readonly:!t.editable||t.readonly,class:b(e(w).b("input")),onMousedown:ve,onInput:We,onChange:Xe,onFocus:a,onBlur:v},null,42,Fa),dt(t.$slots,"range-separator",{},()=>[U("span",{class:b(e(w).b("separator"))},oe(t.rangeSeparator),3)]),U("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(J)&&e(J)[1],disabled:e(S),readonly:!t.editable||t.readonly,class:b(e(w).b("input")),onMousedown:ve,onFocus:a,onBlur:v,onInput:rt,onChange:He},null,42,Na),t.clearIcon?(V(),be(e(fe),{key:1,class:b(e(M)),onClick:Ae},{default:te(()=>[(V(),be(ft(t.clearIcon)))]),_:1},8,["class"])):ce("v-if",!0)],38)):(V(),be(e(Je),{key:0,id:t.id,ref_key:"inputRef",ref:c,"container-role":"combobox","model-value":e(J),name:t.name,size:e(Le),disabled:e(S),placeholder:t.placeholder,class:b([e(k).b("editor"),e(k).bm("editor",t.type),t.$attrs.class]),style:Ft(t.$attrs.style),readonly:!t.editable||t.readonly||e(ie)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:Ue,onFocus:a,onBlur:v,onKeydown:qe,onChange:Ze,onMousedown:ve,onMouseenter:Se,onMouseleave:Ce,onTouchstart:Ve,onClick:_[0]||(_[0]=Ne(()=>{},["stop"]))},{prefix:te(()=>[e(we)?(V(),be(e(fe),{key:0,class:b(e(C).e("icon")),onMousedown:Ne(ve,["prevent"]),onTouchstart:Ve},{default:te(()=>[(V(),be(ft(e(we))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),suffix:te(()=>[De.value&&t.clearIcon?(V(),be(e(fe),{key:0,class:b(`${e(C).e("icon")} clear-icon`),onClick:Ne(Ae,["stop"])},{default:te(()=>[(V(),be(ft(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:te(()=>[dt(t.$slots,"default",{visible:d.value,actualVisible:s.value,parsedValue:e(H),format:t.format,dateFormat:t.dateFormat,timeFormat:t.timeFormat,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:G,onSelectRange:N,onSetPickerOption:x,onCalendarChange:p,onPanelChange:Y,onKeydown:ee,onMousedown:_[1]||(_[1]=Ne(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var La=Be(Ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ka=ke({...Aa,datetimeRole:String,parsedValue:{type:se(Object)}}),za=({getAvailableHours:u,getAvailableMinutes:f,getAvailableSeconds:l})=>{const n=(k,C,w,y)=>{const D={hour:u,minute:f,second:l};let P=k;return["hour","minute","second"].forEach(h=>{if(D[h]){let c;const d=D[h];switch(h){case"minute":{c=d(P.hour(),C,y);break}case"second":{c=d(P.hour(),P.minute(),C,y);break}default:{c=d(C,y);break}}if(c!=null&&c.length&&!c.includes(P[h]())){const s=w?0:c.length-1;P=P[h](c[s])}}}),P},m={};return{timePickerOptions:m,getAvailableTime:n,onSetOption:([k,C])=>{m[k]=C}}},yt=u=>{const f=(n,m)=>n||m,l=n=>n!==!0;return u.map(f).filter(l)},Xt=(u,f,l)=>({getHoursList:(k,C)=>gt(24,u&&(()=>u==null?void 0:u(k,C))),getMinutesList:(k,C,w)=>gt(60,f&&(()=>f==null?void 0:f(k,C,w))),getSecondsList:(k,C,w,y)=>gt(60,l&&(()=>l==null?void 0:l(k,C,w,y)))}),Ua=(u,f,l)=>{const{getHoursList:n,getMinutesList:m,getSecondsList:g}=Xt(u,f,l);return{getAvailableHours:(y,D)=>yt(n(y,D)),getAvailableMinutes:(y,D,P)=>yt(m(y,D,P)),getAvailableSeconds:(y,D,P,h)=>yt(g(y,D,P,h))}},Wa=u=>{const f=Z(u.parsedValue);return Oe(()=>u.visible,l=>{l||(f.value=u.parsedValue)}),f},Ha=ke({role:{type:String,required:!0},spinnerDate:{type:se(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:se(String),default:""},...Zt}),ja=["onClick"],Ga=["onMouseenter"],Za=Te({__name:"basic-time-spinner",props:Ha,emits:["change","select-range","set-option"],setup(u,{emit:f}){const l=u,n=$e("time"),{getHoursList:m,getMinutesList:g,getSecondsList:k}=Xt(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let C=!1;const w=Z(),y=Z(),D=Z(),P=Z(),h={hours:y,minutes:D,seconds:P},c=I(()=>l.showSeconds?Et:Et.slice(0,2)),d=I(()=>{const{spinnerDate:a}=l,r=a.hour(),v=a.minute(),S=a.second();return{hours:r,minutes:v,seconds:S}}),s=I(()=>{const{hours:a,minutes:r}=e(d);return{hours:m(l.role),minutes:g(a,l.role),seconds:k(a,r,l.role)}}),T=I(()=>{const{hours:a,minutes:r,seconds:v}=e(d);return{hours:kt(a,23),minutes:kt(r,59),seconds:kt(v,59)}}),$=Oa(a=>{C=!1,M(a)},200),i=a=>{if(!!!l.amPmMode)return"";const v=l.amPmMode==="A";let S=a<12?" am":" pm";return v&&(S=S.toUpperCase()),S},z=a=>{let r;switch(a){case"hours":r=[0,2];break;case"minutes":r=[3,5];break;case"seconds":r=[6,8];break}const[v,S]=r;f("select-range",v,S),w.value=a},M=a=>{R(a,e(d)[a])},E=()=>{M("hours"),M("minutes"),M("seconds")},F=a=>a.querySelector(`.${n.namespace.value}-scrollbar__wrap`),R=(a,r)=>{if(l.arrowControl)return;const v=e(h[a]);v&&v.$el&&(F(v.$el).scrollTop=Math.max(0,r*O(a)))},O=a=>{const r=e(h[a]),v=r==null?void 0:r.$el.querySelector("li");return v&&Number.parseFloat(ya(v,"height"))||0},N=()=>{G(1)},q=()=>{G(-1)},G=a=>{w.value||z("hours");const r=w.value,v=e(d)[r],S=w.value==="hours"?24:60,H=ae(r,v,a,S);B(r,H),R(r,H),xe(()=>z(r))},ae=(a,r,v,S)=>{let H=(r+v+S)%S;const J=e(s)[a];for(;J[H]&&H!==r;)H=(H+v+S)%S;return H},B=(a,r)=>{if(e(s)[a][r])return;const{hours:H,minutes:J,seconds:ne}=e(d);let re;switch(a){case"hours":re=l.spinnerDate.hour(r).minute(J).second(ne);break;case"minutes":re=l.spinnerDate.hour(H).minute(r).second(ne);break;case"seconds":re=l.spinnerDate.hour(H).minute(J).second(r);break}f("change",re)},ee=(a,{value:r,disabled:v})=>{v||(B(a,r),z(a),R(a,r))},de=a=>{C=!0,$(a);const r=Math.min(Math.round((F(e(h[a]).$el).scrollTop-(pe(a)*.5-10)/O(a)+3)/O(a)),a==="hours"?23:59);B(a,r)},pe=a=>e(h[a]).$el.offsetHeight,W=()=>{const a=r=>{const v=e(h[r]);v&&v.$el&&(F(v.$el).onscroll=()=>{de(r)})};a("hours"),a("minutes"),a("seconds")};Ca(()=>{xe(()=>{!l.arrowControl&&W(),E(),l.role==="start"&&z("hours")})});const A=(a,r)=>{h[r].value=a};return f("set-option",[`${l.role}_scrollDown`,G]),f("set-option",[`${l.role}_emitSelectRange`,z]),Oe(()=>l.spinnerDate,()=>{C||E()}),(a,r)=>(V(),K("div",{class:b([e(n).b("spinner"),{"has-seconds":a.showSeconds}])},[a.arrowControl?ce("v-if",!0):(V(!0),K(he,{key:0},Pe(e(c),v=>(V(),be(e(Va),{key:v,ref_for:!0,ref:S=>A(S,v),class:b(e(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:S=>z(v),onMousemove:S=>M(v)},{default:te(()=>[(V(!0),K(he,null,Pe(e(s)[v],(S,H)=>(V(),K("li",{key:H,class:b([e(n).be("spinner","item"),e(n).is("active",H===e(d)[v]),e(n).is("disabled",S)]),onClick:J=>ee(v,{value:H,disabled:S})},[v==="hours"?(V(),K(he,{key:0},[je(oe(("0"+(a.amPmMode?H%12||12:H)).slice(-2))+oe(i(H)),1)],64)):(V(),K(he,{key:1},[je(oe(("0"+H).slice(-2)),1)],64))],10,ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),a.arrowControl?(V(!0),K(he,{key:1},Pe(e(c),v=>(V(),K("div",{key:v,class:b([e(n).be("spinner","wrapper"),e(n).is("arrow")]),onMouseenter:S=>z(v)},[Ie((V(),be(e(fe),{class:b(["arrow-up",e(n).be("spinner","arrow")])},{default:te(()=>[L(e(wa))]),_:1},8,["class"])),[[e(Nt),q]]),Ie((V(),be(e(fe),{class:b(["arrow-down",e(n).be("spinner","arrow")])},{default:te(()=>[L(e(Da))]),_:1},8,["class"])),[[e(Nt),N]]),U("ul",{class:b(e(n).be("spinner","list"))},[(V(!0),K(he,null,Pe(e(T)[v],(S,H)=>(V(),K("li",{key:H,class:b([e(n).be("spinner","item"),e(n).is("active",S===e(d)[v]),e(n).is("disabled",e(s)[v][S])])},[typeof S=="number"?(V(),K(he,{key:0},[v==="hours"?(V(),K(he,{key:0},[je(oe(("0"+(a.amPmMode?S%12||12:S)).slice(-2))+oe(i(S)),1)],64)):(V(),K(he,{key:1},[je(oe(("0"+S).slice(-2)),1)],64))],64)):ce("v-if",!0)],2))),128))],2)],42,Ga))),128)):ce("v-if",!0)],2))}});var qa=Be(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Xa=Te({__name:"panel-time-pick",props:Ka,emits:["pick","select-range","set-picker-option"],setup(u,{emit:f}){const l=u,n=Ge("EP_PICKER_BASE"),{arrowControl:m,disabledHours:g,disabledMinutes:k,disabledSeconds:C,defaultValue:w}=n.props,{getAvailableHours:y,getAvailableMinutes:D,getAvailableSeconds:P}=Ua(g,k,C),h=$e("time"),{t:c,lang:d}=Re(),s=Z([0,2]),T=Wa(l),$=I(()=>Sa(l.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),i=I(()=>l.format.includes("ss")),z=I(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),M=A=>{const a=j(A).locale(d.value),r=ee(a);return a.isSame(r)},E=()=>{f("pick",T.value,!1)},F=(A=!1,a=!1)=>{a||f("pick",l.parsedValue,A)},R=A=>{if(!l.visible)return;const a=ee(A).millisecond(0);f("pick",a,!0)},O=(A,a)=>{f("select-range",A,a),s.value=[A,a]},N=A=>{const a=[0,3].concat(i.value?[6]:[]),r=["hours","minutes"].concat(i.value?["seconds"]:[]),S=(a.indexOf(s.value[0])+A+a.length)%a.length;G.start_emitSelectRange(r[S])},q=A=>{const a=A.code,{left:r,right:v,up:S,down:H}=me;if([r,v].includes(a)){N(a===r?-1:1),A.preventDefault();return}if([S,H].includes(a)){const J=a===S?-1:1;G.start_scrollDown(J),A.preventDefault();return}},{timePickerOptions:G,onSetOption:ae,getAvailableTime:B}=za({getAvailableHours:y,getAvailableMinutes:D,getAvailableSeconds:P}),ee=A=>B(A,l.datetimeRole||"",!0),de=A=>A?j(A,l.format).locale(d.value):null,pe=A=>A?A.format(l.format):null,W=()=>j(w).locale(d.value);return f("set-picker-option",["isValidValue",M]),f("set-picker-option",["formatToString",pe]),f("set-picker-option",["parseUserInput",de]),f("set-picker-option",["handleKeydownInput",q]),f("set-picker-option",["getRangeAvailableTime",ee]),f("set-picker-option",["getDefaultValue",W]),(A,a)=>(V(),be(Pa,{name:e($)},{default:te(()=>[A.actualVisible||A.visible?(V(),K("div",{key:0,class:b(e(h).b("panel"))},[U("div",{class:b([e(h).be("panel","content"),{"has-seconds":e(i)}])},[L(qa,{ref:"spinner",role:A.datetimeRole||"start","arrow-control":e(m),"show-seconds":e(i),"am-pm-mode":e(z),"spinner-date":A.parsedValue,"disabled-hours":e(g),"disabled-minutes":e(k),"disabled-seconds":e(C),onChange:R,onSetOption:e(ae),onSelectRange:O},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),U("div",{class:b(e(h).be("panel","footer"))},[U("button",{type:"button",class:b([e(h).be("panel","btn"),"cancel"]),onClick:E},oe(e(c)("el.datepicker.cancel")),3),U("button",{type:"button",class:b([e(h).be("panel","btn"),"confirm"]),onClick:a[0]||(a[0]=r=>F())},oe(e(c)("el.datepicker.confirm")),3)],2)],2)):ce("v-if",!0)]),_:1},8,["name"]))}});var Pt=Be(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Jt={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){return function(l,n){var m=n.prototype,g=m.format;m.format=function(k){var C=this,w=this.$locale();if(!this.isValid())return g.bind(this)(k);var y=this.$utils(),D=(k||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(P){switch(P){case"Q":return Math.ceil((C.$M+1)/3);case"Do":return w.ordinal(C.$D);case"gggg":return C.weekYear();case"GGGG":return C.isoWeekYear();case"wo":return w.ordinal(C.week(),"W");case"w":case"ww":return y.s(C.week(),P==="w"?1:2,"0");case"W":case"WW":return y.s(C.isoWeek(),P==="W"?1:2,"0");case"k":case"kk":return y.s(String(C.$H===0?24:C.$H),P==="k"?1:2,"0");case"X":return Math.floor(C.$d.getTime()/1e3);case"x":return C.$d.getTime();case"z":return"["+C.offsetName()+"]";case"zzz":return"["+C.offsetName("long")+"]";default:return P}});return g.bind(this)(D)}}})})(Jt);var Ja=Jt.exports;const Qa=tt(Ja);var Qt={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){var l="week",n="year";return function(m,g,k){var C=g.prototype;C.week=function(w){if(w===void 0&&(w=null),w!==null)return this.add(7*(w-this.week()),"day");var y=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var D=k(this).startOf(n).add(1,n).date(y),P=k(this).endOf(l);if(D.isBefore(P))return 1}var h=k(this).startOf(n).date(y).startOf(l).subtract(1,"millisecond"),c=this.diff(h,l,!0);return c<0?k(this).startOf("week").week():Math.ceil(c)},C.weeks=function(w){return w===void 0&&(w=null),this.week(w)}}})})(Qt);var en=Qt.exports;const tn=tt(en);var ea={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){return function(l,n){n.prototype.weekYear=function(){var m=this.month(),g=this.week(),k=this.year();return g===1&&m===11?k+1:m===0&&g>=52?k-1:k}}})})(ea);var an=ea.exports;const nn=tt(an);var ta={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){return function(l,n,m){n.prototype.dayOfYear=function(g){var k=Math.round((m(this).startOf("day")-m(this).startOf("year"))/864e5)+1;return g==null?k:this.add(g-k,"day")}}})})(ta);var ln=ta.exports;const sn=tt(ln);var aa={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){return function(l,n){n.prototype.isSameOrAfter=function(m,g){return this.isSame(m,g)||this.isAfter(m,g)}}})})(aa);var on=aa.exports;const rn=tt(on);var na={exports:{}};(function(u,f){(function(l,n){u.exports=n()})(et,function(){return function(l,n){n.prototype.isSameOrBefore=function(m,g){return this.isSame(m,g)||this.isBefore(m,g)}}})})(na);var un=na.exports;const cn=tt(un),Ot=Symbol(),dn=ke({...qt,type:{type:se(String),default:"date"}}),fn=["date","dates","year","month","week","range"],xt=ke({disabledDate:{type:se(Function)},date:{type:se(Object),required:!0},minDate:{type:se(Object)},maxDate:{type:se(Object)},parsedValue:{type:se([Object,Array])},rangeState:{type:se(Object),default:()=>({endDate:null,selecting:!1})}}),la=ke({type:{type:se(String),required:!0,values:da},dateFormat:String,timeFormat:String}),sa=ke({unlinkPanels:Boolean,parsedValue:{type:se(Array)}}),oa=u=>({type:String,values:fn,default:u}),vn=ke({...la,parsedValue:{type:se([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),pn=ke({...xt,cellClassName:{type:se(Function)},showWeekNumber:Boolean,selectionMode:oa("date")}),mn=["changerange","pick","select"],Mt=u=>{if(!ye(u))return!1;const[f,l]=u;return j.isDayjs(f)&&j.isDayjs(l)&&f.isSameOrBefore(l)},ra=(u,{lang:f,unit:l,unlinkPanels:n})=>{let m;if(ye(u)){let[g,k]=u.map(C=>j(C).locale(f));return n||(k=g.add(1,l)),[g,k]}else u?m=j(u):m=j();return m=m.locale(f),[m,m.add(1,l)]},hn=(u,f,{columnIndexOffset:l,startDate:n,nextEndDate:m,now:g,unit:k,relativeDateGetter:C,setCellMetadata:w,setRowMetadata:y})=>{for(let D=0;D<u.row;D++){const P=f[D];for(let h=0;h<u.column;h++){let c=P[h+l];c||(c={row:D,column:h,type:"normal",inRange:!1,start:!1,end:!1});const d=D*u.column+h,s=C(d);c.dayjs=s,c.date=s.toDate(),c.timestamp=s.valueOf(),c.type="normal",c.inRange=!!(n&&s.isSameOrAfter(n,k)&&m&&s.isSameOrBefore(m,k))||!!(n&&s.isSameOrBefore(n,k)&&m&&s.isSameOrAfter(m,k)),n!=null&&n.isSameOrAfter(m)?(c.start=!!m&&s.isSame(m,k),c.end=n&&s.isSame(n,k)):(c.start=!!n&&s.isSame(n,k),c.end=!!m&&s.isSame(m,k)),s.isSame(g,k)&&(c.type="today"),w==null||w(c,{rowIndex:D,columnIndex:h}),P[h+l]=c}y==null||y(P)}},_t=(u="")=>["normal","today"].includes(u),bn=(u,f)=>{const{lang:l}=Re(),n=Z(),m=Z(),g=Z(),k=Z(),C=Z([[],[],[],[],[],[]]);let w=!1;const y=u.date.$locale().weekStart||7,D=u.date.locale("en").localeData().weekdaysShort().map(a=>a.toLowerCase()),P=I(()=>y>3?7-y:-y),h=I(()=>{const a=u.date.startOf("month");return a.subtract(a.day()||7,"day")}),c=I(()=>D.concat(D).slice(y,y+7)),d=I(()=>_a(e(M)).some(a=>a.isCurrent)),s=I(()=>{const a=u.date.startOf("month"),r=a.day()||7,v=a.daysInMonth(),S=a.subtract(1,"month").daysInMonth();return{startOfMonthDay:r,dateCountOfMonth:v,dateCountOfLastMonth:S}}),T=I(()=>u.selectionMode==="dates"?Qe(u.parsedValue):[]),$=(a,{count:r,rowIndex:v,columnIndex:S})=>{const{startOfMonthDay:H,dateCountOfMonth:J,dateCountOfLastMonth:ne}=e(s),re=e(P);if(v>=0&&v<=1){const ie=H+re<0?7+H+re:H+re;if(S+v*7>=ie)return a.text=r,!0;a.text=ne-(ie-S%7)+1+v*7,a.type="prev-month"}else return r<=J?a.text=r:(a.text=r-J,a.type="next-month"),!0;return!1},i=(a,{columnIndex:r,rowIndex:v},S)=>{const{disabledDate:H,cellClassName:J}=u,ne=e(T),re=$(a,{count:S,rowIndex:v,columnIndex:r}),ie=a.dayjs.toDate();return a.selected=ne.find(we=>we.valueOf()===a.dayjs.valueOf()),a.isSelected=!!a.selected,a.isCurrent=F(a),a.disabled=H==null?void 0:H(ie),a.customClass=J==null?void 0:J(ie),re},z=a=>{if(u.selectionMode==="week"){const[r,v]=u.showWeekNumber?[1,7]:[0,6],S=A(a[r+1]);a[r].inRange=S,a[r].start=S,a[v].inRange=S,a[v].end=S}},M=I(()=>{const{minDate:a,maxDate:r,rangeState:v,showWeekNumber:S}=u,H=e(P),J=e(C),ne="day";let re=1;if(S)for(let ie=0;ie<6;ie++)J[ie][0]||(J[ie][0]={type:"week",text:e(h).add(ie*7+1,ne).week()});return hn({row:6,column:7},J,{startDate:a,columnIndexOffset:S?1:0,nextEndDate:v.endDate||r||v.selecting&&a||null,now:j().locale(e(l)).startOf(ne),unit:ne,relativeDateGetter:ie=>e(h).add(ie-H,ne),setCellMetadata:(...ie)=>{i(...ie,re)&&(re+=1)},setRowMetadata:z}),J});Oe(()=>u.date,async()=>{var a;(a=e(n))!=null&&a.contains(document.activeElement)&&(await xe(),await E())});const E=async()=>{var a;return(a=e(m))==null?void 0:a.focus()},F=a=>u.selectionMode==="date"&&_t(a.type)&&R(a,u.parsedValue),R=(a,r)=>r?j(r).locale(e(l)).isSame(u.date.date(Number(a.text)),"day"):!1,O=(a,r)=>{const v=a*7+(r-(u.showWeekNumber?1:0))-e(P);return e(h).add(v,"day")},N=a=>{var r;if(!u.rangeState.selecting)return;let v=a.target;if(v.tagName==="SPAN"&&(v=(r=v.parentNode)==null?void 0:r.parentNode),v.tagName==="DIV"&&(v=v.parentNode),v.tagName!=="TD")return;const S=v.parentNode.rowIndex-1,H=v.cellIndex;e(M)[S][H].disabled||(S!==e(g)||H!==e(k))&&(g.value=S,k.value=H,f("changerange",{selecting:!0,endDate:O(S,H)}))},q=a=>!e(d)&&(a==null?void 0:a.text)===1&&a.type==="normal"||a.isCurrent,G=a=>{w||e(d)||u.selectionMode!=="date"||W(a,!0)},ae=a=>{a.target.closest("td")&&(w=!0)},B=a=>{a.target.closest("td")&&(w=!1)},ee=a=>{!u.rangeState.selecting||!u.minDate?(f("pick",{minDate:a,maxDate:null}),f("select",!0)):(a>=u.minDate?f("pick",{minDate:u.minDate,maxDate:a}):f("pick",{minDate:a,maxDate:u.minDate}),f("select",!1))},de=a=>{const r=a.week(),v=`${a.year()}w${r}`;f("pick",{year:a.year(),week:r,value:v,date:a.startOf("week")})},pe=(a,r)=>{const v=r?Qe(u.parsedValue).filter(S=>(S==null?void 0:S.valueOf())!==a.valueOf()):Qe(u.parsedValue).concat([a]);f("pick",v)},W=(a,r=!1)=>{const v=a.target.closest("td");if(!v)return;const S=v.parentNode.rowIndex-1,H=v.cellIndex,J=e(M)[S][H];if(J.disabled||J.type==="week")return;const ne=O(S,H);switch(u.selectionMode){case"range":{ee(ne);break}case"date":{f("pick",ne,r);break}case"week":{de(ne);break}case"dates":{pe(ne,!!J.selected);break}}},A=a=>{if(u.selectionMode!=="week")return!1;let r=u.date.startOf("day");if(a.type==="prev-month"&&(r=r.subtract(1,"month")),a.type==="next-month"&&(r=r.add(1,"month")),r=r.date(Number.parseInt(a.text,10)),u.parsedValue&&!Array.isArray(u.parsedValue)){const v=(u.parsedValue.day()-y+7)%7-1;return u.parsedValue.subtract(v,"day").isSame(r,"day")}return!1};return{WEEKS:c,rows:M,tbodyRef:n,currentCellRef:m,focus:E,isCurrent:F,isWeekActive:A,isSelectedCell:q,handlePickDate:W,handleMouseUp:B,handleMouseDown:ae,handleMouseMove:N,handleFocus:G}},gn=(u,{isCurrent:f,isWeekActive:l})=>{const n=$e("date-table"),{t:m}=Re(),g=I(()=>[n.b(),{"is-week-mode":u.selectionMode==="week"}]),k=I(()=>m("el.datepicker.dateTablePrompt")),C=I(()=>m("el.datepicker.week"));return{tableKls:g,tableLabel:k,weekLabel:C,getCellClasses:D=>{const P=[];return _t(D.type)&&!D.disabled?(P.push("available"),D.type==="today"&&P.push("today")):P.push(D.type),f(D)&&P.push("current"),D.inRange&&(_t(D.type)||u.selectionMode==="week")&&(P.push("in-range"),D.start&&P.push("start-date"),D.end&&P.push("end-date")),D.disabled&&P.push("disabled"),D.selected&&P.push("selected"),D.customClass&&P.push(D.customClass),P.join(" ")},getRowKls:D=>[n.e("row"),{current:l(D)}],t:m}},kn=ke({cell:{type:se(Object)}});var yn=Te({name:"ElDatePickerCell",props:kn,setup(u){const f=$e("date-table-cell"),{slots:l}=Ge(Ot);return()=>{const{cell:n}=u;if(l.default){const m=l.default(n).filter(g=>g.patchFlag!==-2&&g.type.toString()!=="Symbol(Comment)"&&g.type.toString()!=="Symbol(v-cmt)");if(m.length)return m}return L("div",{class:f.b()},[L("span",{class:f.e("text")},[n==null?void 0:n.text])])}}});const wn=["aria-label"],Dn={key:0,scope:"col"},Sn=["aria-label"],Cn=["aria-current","aria-selected","tabindex"],Pn=Te({__name:"basic-date-table",props:pn,emits:mn,setup(u,{expose:f,emit:l}){const n=u,{WEEKS:m,rows:g,tbodyRef:k,currentCellRef:C,focus:w,isCurrent:y,isWeekActive:D,isSelectedCell:P,handlePickDate:h,handleMouseUp:c,handleMouseDown:d,handleMouseMove:s,handleFocus:T}=bn(n,l),{tableLabel:$,tableKls:i,weekLabel:z,getCellClasses:M,getRowKls:E,t:F}=gn(n,{isCurrent:y,isWeekActive:D});return f({focus:w}),(R,O)=>(V(),K("table",{"aria-label":e($),class:b(e(i)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:O[1]||(O[1]=(...N)=>e(h)&&e(h)(...N)),onMousemove:O[2]||(O[2]=(...N)=>e(s)&&e(s)(...N)),onMousedown:O[3]||(O[3]=Ne((...N)=>e(d)&&e(d)(...N),["prevent"])),onMouseup:O[4]||(O[4]=(...N)=>e(c)&&e(c)(...N))},[U("tbody",{ref_key:"tbodyRef",ref:k},[U("tr",null,[R.showWeekNumber?(V(),K("th",Dn,oe(e(z)),1)):ce("v-if",!0),(V(!0),K(he,null,Pe(e(m),(N,q)=>(V(),K("th",{key:q,"aria-label":e(F)("el.datepicker.weeksFull."+N),scope:"col"},oe(e(F)("el.datepicker.weeks."+N)),9,Sn))),128))]),(V(!0),K(he,null,Pe(e(g),(N,q)=>(V(),K("tr",{key:q,class:b(e(E)(N[1]))},[(V(!0),K(he,null,Pe(N,(G,ae)=>(V(),K("td",{key:`${q}.${ae}`,ref_for:!0,ref:B=>e(P)(G)&&(C.value=B),class:b(e(M)(G)),"aria-current":G.isCurrent?"date":void 0,"aria-selected":G.isCurrent,tabindex:e(P)(G)?0:-1,onFocus:O[0]||(O[0]=(...B)=>e(T)&&e(T)(...B))},[L(e(yn),{cell:G},null,8,["cell"])],42,Cn))),128))],2))),128))],512)],42,wn))}});var $t=Be(Pn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Mn=ke({...xt,selectionMode:oa("month")}),_n=["aria-label"],$n=["aria-selected","aria-label","tabindex","onKeydown"],Tn={class:"cell"},Vn=Te({__name:"basic-month-table",props:Mn,emits:["changerange","pick","select"],setup(u,{expose:f,emit:l}){const n=u,m=(M,E,F)=>{const R=j().locale(F).startOf("month").month(E).year(M),O=R.daysInMonth();return Lt(O).map(N=>R.add(N,"day").toDate())},g=$e("month-table"),{t:k,lang:C}=Re(),w=Z(),y=Z(),D=Z(n.date.locale("en").localeData().monthsShort().map(M=>M.toLowerCase())),P=Z([[],[],[]]),h=Z(),c=Z(),d=I(()=>{var M,E;const F=P.value,R=j().locale(C.value).startOf("month");for(let O=0;O<3;O++){const N=F[O];for(let q=0;q<4;q++){const G=N[q]||(N[q]={row:O,column:q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});G.type="normal";const ae=O*4+q,B=n.date.startOf("year").month(ae),ee=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;G.inRange=!!(n.minDate&&B.isSameOrAfter(n.minDate,"month")&&ee&&B.isSameOrBefore(ee,"month"))||!!(n.minDate&&B.isSameOrBefore(n.minDate,"month")&&ee&&B.isSameOrAfter(ee,"month")),(M=n.minDate)!=null&&M.isSameOrAfter(ee)?(G.start=!!(ee&&B.isSame(ee,"month")),G.end=n.minDate&&B.isSame(n.minDate,"month")):(G.start=!!(n.minDate&&B.isSame(n.minDate,"month")),G.end=!!(ee&&B.isSame(ee,"month"))),R.isSame(B)&&(G.type="today"),G.text=ae,G.disabled=((E=n.disabledDate)==null?void 0:E.call(n,B.toDate()))||!1}}return F}),s=()=>{var M;(M=y.value)==null||M.focus()},T=M=>{const E={},F=n.date.year(),R=new Date,O=M.text;return E.disabled=n.disabledDate?m(F,O,C.value).every(n.disabledDate):!1,E.current=Qe(n.parsedValue).findIndex(N=>j.isDayjs(N)&&N.year()===F&&N.month()===O)>=0,E.today=R.getFullYear()===F&&R.getMonth()===O,M.inRange&&(E["in-range"]=!0,M.start&&(E["start-date"]=!0),M.end&&(E["end-date"]=!0)),E},$=M=>{const E=n.date.year(),F=M.text;return Qe(n.date).findIndex(R=>R.year()===E&&R.month()===F)>=0},i=M=>{var E;if(!n.rangeState.selecting)return;let F=M.target;if(F.tagName==="A"&&(F=(E=F.parentNode)==null?void 0:E.parentNode),F.tagName==="DIV"&&(F=F.parentNode),F.tagName!=="TD")return;const R=F.parentNode.rowIndex,O=F.cellIndex;d.value[R][O].disabled||(R!==h.value||O!==c.value)&&(h.value=R,c.value=O,l("changerange",{selecting:!0,endDate:n.date.startOf("year").month(R*4+O)}))},z=M=>{var E;const F=(E=M.target)==null?void 0:E.closest("td");if((F==null?void 0:F.tagName)!=="TD"||Ut(F,"disabled"))return;const R=F.cellIndex,N=F.parentNode.rowIndex*4+R,q=n.date.startOf("year").month(N);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&q>=n.minDate?l("pick",{minDate:n.minDate,maxDate:q}):l("pick",{minDate:q,maxDate:n.minDate}),l("select",!1)):(l("pick",{minDate:q,maxDate:null}),l("select",!0)):l("pick",N)};return Oe(()=>n.date,async()=>{var M,E;(M=w.value)!=null&&M.contains(document.activeElement)&&(await xe(),(E=y.value)==null||E.focus())}),f({focus:s}),(M,E)=>(V(),K("table",{role:"grid","aria-label":e(k)("el.datepicker.monthTablePrompt"),class:b(e(g).b()),onClick:z,onMousemove:i},[U("tbody",{ref_key:"tbodyRef",ref:w},[(V(!0),K(he,null,Pe(e(d),(F,R)=>(V(),K("tr",{key:R},[(V(!0),K(he,null,Pe(F,(O,N)=>(V(),K("td",{key:N,ref_for:!0,ref:q=>$(O)&&(y.value=q),class:b(T(O)),"aria-selected":`${$(O)}`,"aria-label":e(k)(`el.datepicker.month${+O.text+1}`),tabindex:$(O)?0:-1,onKeydown:[st(Ne(z,["prevent","stop"]),["space"]),st(Ne(z,["prevent","stop"]),["enter"])]},[U("div",null,[U("span",Tn,oe(e(k)("el.datepicker.months."+D.value[O.text])),1)])],42,$n))),128))]))),128))],512)],42,_n))}});var Tt=Be(Vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:On,disabledDate:xn,parsedValue:Yn}=xt,In=ke({date:On,disabledDate:xn,parsedValue:Yn}),Rn=["aria-label"],An=["aria-selected","tabindex","onKeydown"],Fn={class:"cell"},Nn={key:1},En=Te({__name:"basic-year-table",props:In,emits:["pick"],setup(u,{expose:f,emit:l}){const n=u,m=(s,T)=>{const $=j(String(s)).locale(T).startOf("year"),z=$.endOf("year").dayOfYear();return Lt(z).map(M=>$.add(M,"day").toDate())},g=$e("year-table"),{t:k,lang:C}=Re(),w=Z(),y=Z(),D=I(()=>Math.floor(n.date.year()/10)*10),P=()=>{var s;(s=y.value)==null||s.focus()},h=s=>{const T={},$=j().locale(C.value);return T.disabled=n.disabledDate?m(s,C.value).every(n.disabledDate):!1,T.current=Qe(n.parsedValue).findIndex(i=>i.year()===s)>=0,T.today=$.year()===s,T},c=s=>s===D.value&&n.date.year()<D.value&&n.date.year()>D.value+9||Qe(n.date).findIndex(T=>T.year()===s)>=0,d=s=>{const $=s.target.closest("td");if($&&$.textContent){if(Ut($,"disabled"))return;const i=$.textContent||$.innerText;l("pick",Number(i))}};return Oe(()=>n.date,async()=>{var s,T;(s=w.value)!=null&&s.contains(document.activeElement)&&(await xe(),(T=y.value)==null||T.focus())}),f({focus:P}),(s,T)=>(V(),K("table",{role:"grid","aria-label":e(k)("el.datepicker.yearTablePrompt"),class:b(e(g).b()),onClick:d},[U("tbody",{ref_key:"tbodyRef",ref:w},[(V(),K(he,null,Pe(3,($,i)=>U("tr",{key:i},[(V(),K(he,null,Pe(4,(z,M)=>(V(),K(he,{key:i+"_"+M},[i*4+M<10?(V(),K("td",{key:0,ref_for:!0,ref:E=>c(e(D)+i*4+M)&&(y.value=E),class:b(["available",h(e(D)+i*4+M)]),"aria-selected":`${c(e(D)+i*4+M)}`,tabindex:c(e(D)+i*4+M)?0:-1,onKeydown:[st(Ne(d,["prevent","stop"]),["space"]),st(Ne(d,["prevent","stop"]),["enter"])]},[U("span",Fn,oe(e(D)+i*4+M),1)],42,An)):(V(),K("td",Nn))],64))),64))])),64))],512)],10,Rn))}});var Bn=Be(En,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ln=["onClick"],Kn=["aria-label"],zn=["aria-label"],Un=["aria-label"],Wn=["aria-label"],Hn=Te({__name:"panel-date-pick",props:vn,emits:["pick","set-picker-option","panel-change"],setup(u,{emit:f}){const l=u,n=(o,x,p)=>!0,m=$e("picker-panel"),g=$e("date-picker"),k=Vt(),C=Ht(),{t:w,lang:y}=Re(),D=Ge("EP_PICKER_BASE"),P=Ge(Ta),{shortcuts:h,disabledDate:c,cellClassName:d,defaultTime:s}=D.props,T=ot(D.props,"defaultValue"),$=Z(),i=Z(j().locale(y.value)),z=Z(!1);let M=!1;const E=I(()=>j(s).locale(y.value)),F=I(()=>i.value.month()),R=I(()=>i.value.year()),O=Z([]),N=Z(null),q=Z(null),G=o=>O.value.length>0?n(o,O.value,l.format||"HH:mm:ss"):!0,ae=o=>s&&!Ce.value&&!z.value&&!M?E.value.year(o.year()).month(o.month()).date(o.date()):re.value?o.millisecond(0):o.startOf("day"),B=(o,...x)=>{if(!o)f("pick",o,...x);else if(ye(o)){const p=o.map(ae);f("pick",p,...x)}else f("pick",ae(o),...x);N.value=null,q.value=null,z.value=!1,M=!1},ee=(o,x)=>{if(r.value==="date"){o=o;let p=l.parsedValue?l.parsedValue.year(o.year()).month(o.month()).date(o.date()):o;G(p)||(p=O.value[0][0].year(o.year()).month(o.month()).date(o.date())),i.value=p,B(p,re.value||x)}else r.value==="week"?B(o.date):r.value==="dates"&&B(o,!0)},de=o=>{const x=o?"add":"subtract";i.value=i.value[x](1,"month"),He("month")},pe=o=>{const x=i.value,p=o?"add":"subtract";i.value=W.value==="year"?x[p](10,"year"):x[p](1,"year"),He("year")},W=Z("date"),A=I(()=>{const o=w("el.datepicker.year");if(W.value==="year"){const x=Math.floor(R.value/10)*10;return o?`${x} ${o} - ${x+9} ${o}`:`${x} - ${x+9}`}return`${R.value} ${o}`}),a=o=>{const x=St(o.value)?o.value():o.value;if(x){M=!0,B(j(x).locale(y.value));return}o.onClick&&o.onClick({attrs:k,slots:C,emit:f})},r=I(()=>{const{type:o}=l;return["week","month","year","dates"].includes(o)?o:"date"}),v=I(()=>r.value==="date"?W.value:r.value),S=I(()=>!!h.length),H=async o=>{i.value=i.value.startOf("month").month(o),r.value==="month"?B(i.value,!1):(W.value="date",["month","year","date","week"].includes(r.value)&&(B(i.value,!0),await xe(),We())),He("month")},J=async o=>{r.value==="year"?(i.value=i.value.startOf("year").year(o),B(i.value,!1)):(i.value=i.value.year(o),W.value="month",["month","year","date","week"].includes(r.value)&&(B(i.value,!0),await xe(),We())),He("year")},ne=async o=>{W.value=o,await xe(),We()},re=I(()=>l.type==="datetime"||l.type==="datetimerange"),ie=I(()=>re.value||r.value==="dates"),we=I(()=>c?l.parsedValue?ye(l.parsedValue)?c(l.parsedValue[0].toDate()):c(l.parsedValue.toDate()):!0:!1),De=()=>{if(r.value==="dates")B(l.parsedValue);else{let o=l.parsedValue;if(!o){const x=j(s).locale(y.value),p=Ue();o=x.year(p.year()).month(p.month()).date(p.date())}i.value=o,B(o)}},Ae=I(()=>c?c(j().locale(y.value).toDate()):!1),Me=()=>{const x=j().locale(y.value).toDate();z.value=!0,(!c||!c(x))&&G(x)&&(i.value=j().locale(y.value),B(i.value))},ve=I(()=>l.timeFormat||Kt(l.format)),Se=I(()=>l.dateFormat||zt(l.format)),Ce=I(()=>{if(q.value)return q.value;if(!(!l.parsedValue&&!T.value))return(l.parsedValue||i.value).format(ve.value)}),Ve=I(()=>{if(N.value)return N.value;if(!(!l.parsedValue&&!T.value))return(l.parsedValue||i.value).format(Se.value)}),ge=Z(!1),Le=()=>{ge.value=!0},at=()=>{ge.value=!1},_e=o=>({hour:o.hour(),minute:o.minute(),second:o.second(),year:o.year(),month:o.month(),date:o.date()}),Q=(o,x,p)=>{const{hour:Y,minute:t,second:_}=_e(o),X=l.parsedValue?l.parsedValue.hour(Y).minute(t).second(_):o;i.value=X,B(i.value,!0),p||(ge.value=x)},Ze=o=>{const x=j(o,ve.value).locale(y.value);if(x.isValid()&&G(x)){const{year:p,month:Y,date:t}=_e(i.value);i.value=x.year(p).month(Y).date(t),q.value=null,ge.value=!1,B(i.value,!0)}},Ke=o=>{const x=j(o,Se.value).locale(y.value);if(x.isValid()){if(c&&c(x.toDate()))return;const{hour:p,minute:Y,second:t}=_e(i.value);i.value=x.hour(p).minute(Y).second(t),N.value=null,B(i.value,!0)}},ze=o=>j.isDayjs(o)&&o.isValid()&&(c?!c(o.toDate()):!0),Ee=o=>r.value==="dates"?o.map(x=>x.format(l.format)):o.format(l.format),qe=o=>j(o,l.format).locale(y.value),Ue=()=>{const o=j(T.value).locale(y.value);if(!T.value){const x=E.value;return j().hour(x.hour()).minute(x.minute()).second(x.second()).locale(y.value)}return o},We=async()=>{var o;["week","month","year","date"].includes(r.value)&&((o=$.value)==null||o.focus(),r.value==="week"&&Xe(me.down))},rt=o=>{const{code:x}=o;[me.up,me.down,me.left,me.right,me.home,me.end,me.pageUp,me.pageDown].includes(x)&&(Xe(x),o.stopPropagation(),o.preventDefault()),[me.enter,me.space,me.numpadEnter].includes(x)&&N.value===null&&q.value===null&&(o.preventDefault(),B(i.value,!1))},Xe=o=>{var x;const{up:p,down:Y,left:t,right:_,home:X,end:ue,pageUp:Ye,pageDown:ua}=me,ca={year:{[p]:-4,[Y]:4,[t]:-1,[_]:1,offset:(le,Fe)=>le.setFullYear(le.getFullYear()+Fe)},month:{[p]:-4,[Y]:4,[t]:-1,[_]:1,offset:(le,Fe)=>le.setMonth(le.getMonth()+Fe)},week:{[p]:-1,[Y]:1,[t]:-1,[_]:1,offset:(le,Fe)=>le.setDate(le.getDate()+Fe*7)},date:{[p]:-7,[Y]:7,[t]:-1,[_]:1,[X]:le=>-le.getDay(),[ue]:le=>-le.getDay()+6,[Ye]:le=>-new Date(le.getFullYear(),le.getMonth(),0).getDate(),[ua]:le=>new Date(le.getFullYear(),le.getMonth()+1,0).getDate(),offset:(le,Fe)=>le.setDate(le.getDate()+Fe)}},it=i.value.toDate();for(;Math.abs(i.value.diff(it,"year",!0))<1;){const le=ca[v.value];if(!le)return;if(le.offset(it,St(le[o])?le[o](it):(x=le[o])!=null?x:0),c&&c(it))break;const Fe=j(it).locale(y.value);i.value=Fe,f("pick",Fe,!0);break}},He=o=>{f("panel-change",i.value.toDate(),o,W.value)};return Oe(()=>r.value,o=>{if(["month","year"].includes(o)){W.value=o;return}W.value="date"},{immediate:!0}),Oe(()=>W.value,()=>{P==null||P.updatePopper()}),Oe(()=>T.value,o=>{o&&(i.value=Ue())},{immediate:!0}),Oe(()=>l.parsedValue,o=>{if(o){if(r.value==="dates"||Array.isArray(o))return;i.value=o}else i.value=Ue()},{immediate:!0}),f("set-picker-option",["isValidValue",ze]),f("set-picker-option",["formatToString",Ee]),f("set-picker-option",["parseUserInput",qe]),f("set-picker-option",["handleFocusPicker",We]),(o,x)=>(V(),K("div",{class:b([e(m).b(),e(g).b(),{"has-sidebar":o.$slots.sidebar||e(S),"has-time":e(re)}])},[U("div",{class:b(e(m).e("body-wrapper"))},[dt(o.$slots,"sidebar",{class:b(e(m).e("sidebar"))}),e(S)?(V(),K("div",{key:0,class:b(e(m).e("sidebar"))},[(V(!0),K(he,null,Pe(e(h),(p,Y)=>(V(),K("button",{key:Y,type:"button",class:b(e(m).e("shortcut")),onClick:t=>a(p)},oe(p.text),11,Ln))),128))],2)):ce("v-if",!0),U("div",{class:b(e(m).e("body"))},[e(re)?(V(),K("div",{key:0,class:b(e(g).e("time-header"))},[U("span",{class:b(e(g).e("editor-wrap"))},[L(e(Je),{placeholder:e(w)("el.datepicker.selectDate"),"model-value":e(Ve),size:"small","validate-event":!1,onInput:x[0]||(x[0]=p=>N.value=p),onChange:Ke},null,8,["placeholder","model-value"])],2),Ie((V(),K("span",{class:b(e(g).e("editor-wrap"))},[L(e(Je),{placeholder:e(w)("el.datepicker.selectTime"),"model-value":e(Ce),size:"small","validate-event":!1,onFocus:Le,onInput:x[1]||(x[1]=p=>q.value=p),onChange:Ze},null,8,["placeholder","model-value"]),L(e(Pt),{visible:ge.value,format:e(ve),"parsed-value":i.value,onPick:Q},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),at]])],2)):ce("v-if",!0),Ie(U("div",{class:b([e(g).e("header"),(W.value==="year"||W.value==="month")&&e(g).e("header--bordered")])},[U("span",{class:b(e(g).e("prev-btn"))},[U("button",{type:"button","aria-label":e(w)("el.datepicker.prevYear"),class:b(["d-arrow-left",e(m).e("icon-btn")]),onClick:x[2]||(x[2]=p=>pe(!1))},[L(e(fe),null,{default:te(()=>[L(e(ut))]),_:1})],10,Kn),Ie(U("button",{type:"button","aria-label":e(w)("el.datepicker.prevMonth"),class:b([e(m).e("icon-btn"),"arrow-left"]),onClick:x[3]||(x[3]=p=>de(!1))},[L(e(fe),null,{default:te(()=>[L(e(wt))]),_:1})],10,zn),[[nt,W.value==="date"]])],2),U("span",{role:"button",class:b(e(g).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:x[4]||(x[4]=st(p=>ne("year"),["enter"])),onClick:x[5]||(x[5]=p=>ne("year"))},oe(e(A)),35),Ie(U("span",{role:"button","aria-live":"polite",tabindex:"0",class:b([e(g).e("header-label"),{active:W.value==="month"}]),onKeydown:x[6]||(x[6]=st(p=>ne("month"),["enter"])),onClick:x[7]||(x[7]=p=>ne("month"))},oe(e(w)(`el.datepicker.month${e(F)+1}`)),35),[[nt,W.value==="date"]]),U("span",{class:b(e(g).e("next-btn"))},[Ie(U("button",{type:"button","aria-label":e(w)("el.datepicker.nextMonth"),class:b([e(m).e("icon-btn"),"arrow-right"]),onClick:x[8]||(x[8]=p=>de(!0))},[L(e(fe),null,{default:te(()=>[L(e(mt))]),_:1})],10,Un),[[nt,W.value==="date"]]),U("button",{type:"button","aria-label":e(w)("el.datepicker.nextYear"),class:b([e(m).e("icon-btn"),"d-arrow-right"]),onClick:x[9]||(x[9]=p=>pe(!0))},[L(e(fe),null,{default:te(()=>[L(e(ct))]),_:1})],10,Wn)],2)],2),[[nt,W.value!=="time"]]),U("div",{class:b(e(m).e("content")),onKeydown:rt},[W.value==="date"?(V(),be($t,{key:0,ref_key:"currentViewRef",ref:$,"selection-mode":e(r),date:i.value,"parsed-value":o.parsedValue,"disabled-date":e(c),"cell-class-name":e(d),onPick:ee},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ce("v-if",!0),W.value==="year"?(V(),be(Bn,{key:1,ref_key:"currentViewRef",ref:$,date:i.value,"disabled-date":e(c),"parsed-value":o.parsedValue,onPick:J},null,8,["date","disabled-date","parsed-value"])):ce("v-if",!0),W.value==="month"?(V(),be(Tt,{key:2,ref_key:"currentViewRef",ref:$,date:i.value,"parsed-value":o.parsedValue,"disabled-date":e(c),onPick:H},null,8,["date","parsed-value","disabled-date"])):ce("v-if",!0)],34)],2)],2),Ie(U("div",{class:b(e(m).e("footer"))},[Ie(L(e(bt),{text:"",size:"small",class:b(e(m).e("link-btn")),disabled:e(Ae),onClick:Me},{default:te(()=>[je(oe(e(w)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[nt,e(r)!=="dates"]]),L(e(bt),{plain:"",size:"small",class:b(e(m).e("link-btn")),disabled:e(we),onClick:De},{default:te(()=>[je(oe(e(w)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[nt,e(ie)&&W.value==="date"]])],2))}});var jn=Be(Hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Gn=ke({...la,...sa}),Zn=u=>{const{emit:f}=jt(),l=Vt(),n=Ht();return g=>{const k=St(g.value)?g.value():g.value;if(k){f("pick",[j(k[0]).locale(u.value),j(k[1]).locale(u.value)]);return}g.onClick&&g.onClick({attrs:l,slots:n,emit:f})}},ia=(u,{defaultValue:f,leftDate:l,rightDate:n,unit:m,onParsedValueChanged:g})=>{const{emit:k}=jt(),{pickerNs:C}=Ge(Ot),w=$e("date-range-picker"),{t:y,lang:D}=Re(),P=Zn(D),h=Z(),c=Z(),d=Z({endDate:null,selecting:!1}),s=z=>{d.value=z},T=(z=!1)=>{const M=e(h),E=e(c);Mt([M,E])&&k("pick",[M,E],z)},$=z=>{d.value.selecting=z,z||(d.value.endDate=null)},i=()=>{const[z,M]=ra(e(f),{lang:e(D),unit:m,unlinkPanels:u.unlinkPanels});h.value=void 0,c.value=void 0,l.value=z,n.value=M};return Oe(f,z=>{z&&i()},{immediate:!0}),Oe(()=>u.parsedValue,z=>{if(ye(z)&&z.length===2){const[M,E]=z;h.value=M,l.value=M,c.value=E,g(e(h),e(c))}else i()},{immediate:!0}),{minDate:h,maxDate:c,rangeState:d,lang:D,ppNs:C,drpNs:w,handleChangeRange:s,handleRangeConfirm:T,handleShortcutClick:P,onSelect:$,t:y}},qn=["onClick"],Xn=["aria-label"],Jn=["aria-label"],Qn=["disabled","aria-label"],el=["disabled","aria-label"],tl=["disabled","aria-label"],al=["disabled","aria-label"],nl=["aria-label"],ll=["aria-label"],vt="month",sl=Te({__name:"panel-date-range",props:Gn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(u,{emit:f}){const l=u,n=Ge("EP_PICKER_BASE"),{disabledDate:m,cellClassName:g,format:k,defaultTime:C,clearable:w}=n.props,y=ot(n.props,"shortcuts"),D=ot(n.props,"defaultValue"),{lang:P}=Re(),h=Z(j().locale(P.value)),c=Z(j().locale(P.value).add(1,vt)),{minDate:d,maxDate:s,rangeState:T,ppNs:$,drpNs:i,handleChangeRange:z,handleRangeConfirm:M,handleShortcutClick:E,onSelect:F,t:R}=ia(l,{defaultValue:D,leftDate:h,rightDate:c,unit:vt,onParsedValueChanged:x}),O=Z({min:null,max:null}),N=Z({min:null,max:null}),q=I(()=>`${h.value.year()} ${R("el.datepicker.year")} ${R(`el.datepicker.month${h.value.month()+1}`)}`),G=I(()=>`${c.value.year()} ${R("el.datepicker.year")} ${R(`el.datepicker.month${c.value.month()+1}`)}`),ae=I(()=>h.value.year()),B=I(()=>h.value.month()),ee=I(()=>c.value.year()),de=I(()=>c.value.month()),pe=I(()=>!!y.value.length),W=I(()=>O.value.min!==null?O.value.min:d.value?d.value.format(S.value):""),A=I(()=>O.value.max!==null?O.value.max:s.value||d.value?(s.value||d.value).format(S.value):""),a=I(()=>N.value.min!==null?N.value.min:d.value?d.value.format(v.value):""),r=I(()=>N.value.max!==null?N.value.max:s.value||d.value?(s.value||d.value).format(v.value):""),v=I(()=>l.timeFormat||Kt(k)),S=I(()=>l.dateFormat||zt(k)),H=p=>Mt(p)&&(m?!m(p[0].toDate())&&!m(p[1].toDate()):!0),J=()=>{h.value=h.value.subtract(1,"year"),l.unlinkPanels||(c.value=h.value.add(1,"month")),ve("year")},ne=()=>{h.value=h.value.subtract(1,"month"),l.unlinkPanels||(c.value=h.value.add(1,"month")),ve("month")},re=()=>{l.unlinkPanels?c.value=c.value.add(1,"year"):(h.value=h.value.add(1,"year"),c.value=h.value.add(1,"month")),ve("year")},ie=()=>{l.unlinkPanels?c.value=c.value.add(1,"month"):(h.value=h.value.add(1,"month"),c.value=h.value.add(1,"month")),ve("month")},we=()=>{h.value=h.value.add(1,"year"),ve("year")},De=()=>{h.value=h.value.add(1,"month"),ve("month")},Ae=()=>{c.value=c.value.subtract(1,"year"),ve("year")},Me=()=>{c.value=c.value.subtract(1,"month"),ve("month")},ve=p=>{f("panel-change",[h.value.toDate(),c.value.toDate()],p)},Se=I(()=>{const p=(B.value+1)%12,Y=B.value+1>=12?1:0;return l.unlinkPanels&&new Date(ae.value+Y,p)<new Date(ee.value,de.value)}),Ce=I(()=>l.unlinkPanels&&ee.value*12+de.value-(ae.value*12+B.value+1)>=12),Ve=I(()=>!(d.value&&s.value&&!T.value.selecting&&Mt([d.value,s.value]))),ge=I(()=>l.type==="datetime"||l.type==="datetimerange"),Le=(p,Y)=>{if(p)return C?j(C[Y]||C).locale(P.value).year(p.year()).month(p.month()).date(p.date()):p},at=(p,Y=!0)=>{const t=p.minDate,_=p.maxDate,X=Le(t,0),ue=Le(_,1);s.value===ue&&d.value===X||(f("calendar-change",[t.toDate(),_&&_.toDate()]),s.value=ue,d.value=X,!(!Y||ge.value)&&M())},_e=Z(!1),Q=Z(!1),Ze=()=>{_e.value=!1},Ke=()=>{Q.value=!1},ze=(p,Y)=>{O.value[Y]=p;const t=j(p,S.value).locale(P.value);if(t.isValid()){if(m&&m(t.toDate()))return;Y==="min"?(h.value=t,d.value=(d.value||h.value).year(t.year()).month(t.month()).date(t.date()),!l.unlinkPanels&&(!s.value||s.value.isBefore(d.value))&&(c.value=t.add(1,"month"),s.value=d.value.add(1,"month"))):(c.value=t,s.value=(s.value||c.value).year(t.year()).month(t.month()).date(t.date()),!l.unlinkPanels&&(!d.value||d.value.isAfter(s.value))&&(h.value=t.subtract(1,"month"),d.value=s.value.subtract(1,"month")))}},Ee=(p,Y)=>{O.value[Y]=null},qe=(p,Y)=>{N.value[Y]=p;const t=j(p,v.value).locale(P.value);t.isValid()&&(Y==="min"?(_e.value=!0,d.value=(d.value||h.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!s.value||s.value.isBefore(d.value))&&(s.value=d.value)):(Q.value=!0,s.value=(s.value||c.value).hour(t.hour()).minute(t.minute()).second(t.second()),c.value=s.value,s.value&&s.value.isBefore(d.value)&&(d.value=s.value)))},Ue=(p,Y)=>{N.value[Y]=null,Y==="min"?(h.value=d.value,_e.value=!1):(c.value=s.value,Q.value=!1)},We=(p,Y,t)=>{N.value.min||(p&&(h.value=p,d.value=(d.value||h.value).hour(p.hour()).minute(p.minute()).second(p.second())),t||(_e.value=Y),(!s.value||s.value.isBefore(d.value))&&(s.value=d.value,c.value=p))},rt=(p,Y,t)=>{N.value.max||(p&&(c.value=p,s.value=(s.value||c.value).hour(p.hour()).minute(p.minute()).second(p.second())),t||(Q.value=Y),s.value&&s.value.isBefore(d.value)&&(d.value=s.value))},Xe=()=>{h.value=ra(e(D),{lang:e(P),unit:"month",unlinkPanels:l.unlinkPanels})[0],c.value=h.value.add(1,"month"),f("pick",null)},He=p=>ye(p)?p.map(Y=>Y.format(k)):p.format(k),o=p=>ye(p)?p.map(Y=>j(Y,k).locale(P.value)):j(p,k).locale(P.value);function x(p,Y){if(l.unlinkPanels&&Y){const t=(p==null?void 0:p.year())||0,_=(p==null?void 0:p.month())||0,X=Y.year(),ue=Y.month();c.value=t===X&&_===ue?Y.add(1,vt):Y}else c.value=h.value.add(1,vt),Y&&(c.value=c.value.hour(Y.hour()).minute(Y.minute()).second(Y.second()))}return f("set-picker-option",["isValidValue",H]),f("set-picker-option",["parseUserInput",o]),f("set-picker-option",["formatToString",He]),f("set-picker-option",["handleClear",Xe]),(p,Y)=>(V(),K("div",{class:b([e($).b(),e(i).b(),{"has-sidebar":p.$slots.sidebar||e(pe),"has-time":e(ge)}])},[U("div",{class:b(e($).e("body-wrapper"))},[dt(p.$slots,"sidebar",{class:b(e($).e("sidebar"))}),e(pe)?(V(),K("div",{key:0,class:b(e($).e("sidebar"))},[(V(!0),K(he,null,Pe(e(y),(t,_)=>(V(),K("button",{key:_,type:"button",class:b(e($).e("shortcut")),onClick:X=>e(E)(t)},oe(t.text),11,qn))),128))],2)):ce("v-if",!0),U("div",{class:b(e($).e("body"))},[e(ge)?(V(),K("div",{key:0,class:b(e(i).e("time-header"))},[U("span",{class:b(e(i).e("editors-wrap"))},[U("span",{class:b(e(i).e("time-picker-wrap"))},[L(e(Je),{size:"small",disabled:e(T).selecting,placeholder:e(R)("el.datepicker.startDate"),class:b(e(i).e("editor")),"model-value":e(W),"validate-event":!1,onInput:Y[0]||(Y[0]=t=>ze(t,"min")),onChange:Y[1]||(Y[1]=t=>Ee(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ie((V(),K("span",{class:b(e(i).e("time-picker-wrap"))},[L(e(Je),{size:"small",class:b(e(i).e("editor")),disabled:e(T).selecting,placeholder:e(R)("el.datepicker.startTime"),"model-value":e(a),"validate-event":!1,onFocus:Y[2]||(Y[2]=t=>_e.value=!0),onInput:Y[3]||(Y[3]=t=>qe(t,"min")),onChange:Y[4]||(Y[4]=t=>Ue(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),L(e(Pt),{visible:_e.value,format:e(v),"datetime-role":"start","parsed-value":h.value,onPick:We},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),Ze]])],2),U("span",null,[L(e(fe),null,{default:te(()=>[L(e(mt))]),_:1})]),U("span",{class:b([e(i).e("editors-wrap"),"is-right"])},[U("span",{class:b(e(i).e("time-picker-wrap"))},[L(e(Je),{size:"small",class:b(e(i).e("editor")),disabled:e(T).selecting,placeholder:e(R)("el.datepicker.endDate"),"model-value":e(A),readonly:!e(d),"validate-event":!1,onInput:Y[5]||(Y[5]=t=>ze(t,"max")),onChange:Y[6]||(Y[6]=t=>Ee(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ie((V(),K("span",{class:b(e(i).e("time-picker-wrap"))},[L(e(Je),{size:"small",class:b(e(i).e("editor")),disabled:e(T).selecting,placeholder:e(R)("el.datepicker.endTime"),"model-value":e(r),readonly:!e(d),"validate-event":!1,onFocus:Y[7]||(Y[7]=t=>e(d)&&(Q.value=!0)),onInput:Y[8]||(Y[8]=t=>qe(t,"max")),onChange:Y[9]||(Y[9]=t=>Ue(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),L(e(Pt),{"datetime-role":"end",visible:Q.value,format:e(v),"parsed-value":c.value,onPick:rt},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),Ke]])],2)],2)):ce("v-if",!0),U("div",{class:b([[e($).e("content"),e(i).e("content")],"is-left"])},[U("div",{class:b(e(i).e("header"))},[U("button",{type:"button",class:b([e($).e("icon-btn"),"d-arrow-left"]),"aria-label":e(R)("el.datepicker.prevYear"),onClick:J},[L(e(fe),null,{default:te(()=>[L(e(ut))]),_:1})],10,Xn),U("button",{type:"button",class:b([e($).e("icon-btn"),"arrow-left"]),"aria-label":e(R)("el.datepicker.prevMonth"),onClick:ne},[L(e(fe),null,{default:te(()=>[L(e(wt))]),_:1})],10,Jn),p.unlinkPanels?(V(),K("button",{key:0,type:"button",disabled:!e(Ce),class:b([[e($).e("icon-btn"),{"is-disabled":!e(Ce)}],"d-arrow-right"]),"aria-label":e(R)("el.datepicker.nextYear"),onClick:we},[L(e(fe),null,{default:te(()=>[L(e(ct))]),_:1})],10,Qn)):ce("v-if",!0),p.unlinkPanels?(V(),K("button",{key:1,type:"button",disabled:!e(Se),class:b([[e($).e("icon-btn"),{"is-disabled":!e(Se)}],"arrow-right"]),"aria-label":e(R)("el.datepicker.nextMonth"),onClick:De},[L(e(fe),null,{default:te(()=>[L(e(mt))]),_:1})],10,el)):ce("v-if",!0),U("div",null,oe(e(q)),1)],2),L($t,{"selection-mode":"range",date:h.value,"min-date":e(d),"max-date":e(s),"range-state":e(T),"disabled-date":e(m),"cell-class-name":e(g),onChangerange:e(z),onPick:at,onSelect:e(F)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),U("div",{class:b([[e($).e("content"),e(i).e("content")],"is-right"])},[U("div",{class:b(e(i).e("header"))},[p.unlinkPanels?(V(),K("button",{key:0,type:"button",disabled:!e(Ce),class:b([[e($).e("icon-btn"),{"is-disabled":!e(Ce)}],"d-arrow-left"]),"aria-label":e(R)("el.datepicker.prevYear"),onClick:Ae},[L(e(fe),null,{default:te(()=>[L(e(ut))]),_:1})],10,tl)):ce("v-if",!0),p.unlinkPanels?(V(),K("button",{key:1,type:"button",disabled:!e(Se),class:b([[e($).e("icon-btn"),{"is-disabled":!e(Se)}],"arrow-left"]),"aria-label":e(R)("el.datepicker.prevMonth"),onClick:Me},[L(e(fe),null,{default:te(()=>[L(e(wt))]),_:1})],10,al)):ce("v-if",!0),U("button",{type:"button","aria-label":e(R)("el.datepicker.nextYear"),class:b([e($).e("icon-btn"),"d-arrow-right"]),onClick:re},[L(e(fe),null,{default:te(()=>[L(e(ct))]),_:1})],10,nl),U("button",{type:"button",class:b([e($).e("icon-btn"),"arrow-right"]),"aria-label":e(R)("el.datepicker.nextMonth"),onClick:ie},[L(e(fe),null,{default:te(()=>[L(e(mt))]),_:1})],10,ll),U("div",null,oe(e(G)),1)],2),L($t,{"selection-mode":"range",date:c.value,"min-date":e(d),"max-date":e(s),"range-state":e(T),"disabled-date":e(m),"cell-class-name":e(g),onChangerange:e(z),onPick:at,onSelect:e(F)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(ge)?(V(),K("div",{key:0,class:b(e($).e("footer"))},[e(w)?(V(),be(e(bt),{key:0,text:"",size:"small",class:b(e($).e("link-btn")),onClick:Xe},{default:te(()=>[je(oe(e(R)("el.datepicker.clear")),1)]),_:1},8,["class"])):ce("v-if",!0),L(e(bt),{plain:"",size:"small",class:b(e($).e("link-btn")),disabled:e(Ve),onClick:Y[10]||(Y[10]=t=>e(M)(!1))},{default:te(()=>[je(oe(e(R)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ce("v-if",!0)],2))}});var ol=Be(sl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const rl=ke({...sa}),il=["pick","set-picker-option","calendar-change"],ul=({unlinkPanels:u,leftDate:f,rightDate:l})=>{const{t:n}=Re(),m=()=>{f.value=f.value.subtract(1,"year"),u.value||(l.value=l.value.subtract(1,"year"))},g=()=>{u.value||(f.value=f.value.add(1,"year")),l.value=l.value.add(1,"year")},k=()=>{f.value=f.value.add(1,"year")},C=()=>{l.value=l.value.subtract(1,"year")},w=I(()=>`${f.value.year()} ${n("el.datepicker.year")}`),y=I(()=>`${l.value.year()} ${n("el.datepicker.year")}`),D=I(()=>f.value.year()),P=I(()=>l.value.year()===f.value.year()?f.value.year()+1:l.value.year());return{leftPrevYear:m,rightNextYear:g,leftNextYear:k,rightPrevYear:C,leftLabel:w,rightLabel:y,leftYear:D,rightYear:P}},cl=["onClick"],dl=["disabled"],fl=["disabled"],pt="year",vl=Te({name:"DatePickerMonthRange"}),pl=Te({...vl,props:rl,emits:il,setup(u,{emit:f}){const l=u,{lang:n}=Re(),m=Ge("EP_PICKER_BASE"),{shortcuts:g,disabledDate:k,format:C}=m.props,w=ot(m.props,"defaultValue"),y=Z(j().locale(n.value)),D=Z(j().locale(n.value).add(1,pt)),{minDate:P,maxDate:h,rangeState:c,ppNs:d,drpNs:s,handleChangeRange:T,handleRangeConfirm:$,handleShortcutClick:i,onSelect:z}=ia(l,{defaultValue:w,leftDate:y,rightDate:D,unit:pt,onParsedValueChanged:pe}),M=I(()=>!!g.length),{leftPrevYear:E,rightNextYear:F,leftNextYear:R,rightPrevYear:O,leftLabel:N,rightLabel:q,leftYear:G,rightYear:ae}=ul({unlinkPanels:ot(l,"unlinkPanels"),leftDate:y,rightDate:D}),B=I(()=>l.unlinkPanels&&ae.value>G.value+1),ee=(W,A=!0)=>{const a=W.minDate,r=W.maxDate;h.value===r&&P.value===a||(f("calendar-change",[a.toDate(),r&&r.toDate()]),h.value=r,P.value=a,A&&$())},de=W=>W.map(A=>A.format(C));function pe(W,A){if(l.unlinkPanels&&A){const a=(W==null?void 0:W.year())||0,r=A.year();D.value=a===r?A.add(1,pt):A}else D.value=y.value.add(1,pt)}return f("set-picker-option",["formatToString",de]),(W,A)=>(V(),K("div",{class:b([e(d).b(),e(s).b(),{"has-sidebar":!!W.$slots.sidebar||e(M)}])},[U("div",{class:b(e(d).e("body-wrapper"))},[dt(W.$slots,"sidebar",{class:b(e(d).e("sidebar"))}),e(M)?(V(),K("div",{key:0,class:b(e(d).e("sidebar"))},[(V(!0),K(he,null,Pe(e(g),(a,r)=>(V(),K("button",{key:r,type:"button",class:b(e(d).e("shortcut")),onClick:v=>e(i)(a)},oe(a.text),11,cl))),128))],2)):ce("v-if",!0),U("div",{class:b(e(d).e("body"))},[U("div",{class:b([[e(d).e("content"),e(s).e("content")],"is-left"])},[U("div",{class:b(e(s).e("header"))},[U("button",{type:"button",class:b([e(d).e("icon-btn"),"d-arrow-left"]),onClick:A[0]||(A[0]=(...a)=>e(E)&&e(E)(...a))},[L(e(fe),null,{default:te(()=>[L(e(ut))]),_:1})],2),W.unlinkPanels?(V(),K("button",{key:0,type:"button",disabled:!e(B),class:b([[e(d).e("icon-btn"),{[e(d).is("disabled")]:!e(B)}],"d-arrow-right"]),onClick:A[1]||(A[1]=(...a)=>e(R)&&e(R)(...a))},[L(e(fe),null,{default:te(()=>[L(e(ct))]),_:1})],10,dl)):ce("v-if",!0),U("div",null,oe(e(N)),1)],2),L(Tt,{"selection-mode":"range",date:y.value,"min-date":e(P),"max-date":e(h),"range-state":e(c),"disabled-date":e(k),onChangerange:e(T),onPick:ee,onSelect:e(z)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),U("div",{class:b([[e(d).e("content"),e(s).e("content")],"is-right"])},[U("div",{class:b(e(s).e("header"))},[W.unlinkPanels?(V(),K("button",{key:0,type:"button",disabled:!e(B),class:b([[e(d).e("icon-btn"),{"is-disabled":!e(B)}],"d-arrow-left"]),onClick:A[2]||(A[2]=(...a)=>e(O)&&e(O)(...a))},[L(e(fe),null,{default:te(()=>[L(e(ut))]),_:1})],10,fl)):ce("v-if",!0),U("button",{type:"button",class:b([e(d).e("icon-btn"),"d-arrow-right"]),onClick:A[3]||(A[3]=(...a)=>e(F)&&e(F)(...a))},[L(e(fe),null,{default:te(()=>[L(e(ct))]),_:1})],2),U("div",null,oe(e(q)),1)],2),L(Tt,{"selection-mode":"range",date:D.value,"min-date":e(P),"max-date":e(h),"range-state":e(c),"disabled-date":e(k),onChangerange:e(T),onPick:ee,onSelect:e(z)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var ml=Be(pl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const hl=function(u){switch(u){case"daterange":case"datetimerange":return ol;case"monthrange":return ml;default:return jn}};j.extend(fa);j.extend(Qa);j.extend(Ia);j.extend(tn);j.extend(nn);j.extend(sn);j.extend(rn);j.extend(cn);var bl=Te({name:"ElDatePicker",install:null,props:dn,emits:["update:modelValue"],setup(u,{expose:f,emit:l,slots:n}){const m=$e("picker-panel");Dt("ElPopperOptions",Ma(ot(u,"popperOptions"))),Dt(Ot,{slots:n,pickerNs:m});const g=Z();f({focus:(w=!0)=>{var y;(y=g.value)==null||y.focus(w)},handleOpen:()=>{var w;(w=g.value)==null||w.handleOpen()},handleClose:()=>{var w;(w=g.value)==null||w.handleClose()}});const C=w=>{l("update:modelValue",w)};return()=>{var w;const y=(w=u.format)!=null?w:Ra[u.type]||lt,D=hl(u.type);return L(La,Wt(u,{format:y,type:u.type,ref:g,"onUpdate:modelValue":C}),{default:P=>L(D,P,null),"range-separator":n["range-separator"]})}}});const ht=bl;ht.install=u=>{u.component(ht.name,ht)};const Tl=ht;export{Tl as E};
