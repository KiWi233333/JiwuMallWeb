import{b as p}from"./category.sBcSORba.js";import{go as f,gq as v}from"./entry.HuYbGiLS.js";import{a}from"./swiper-vue.4ZhlhtKr.js";import{u as x}from"./composables.QNi8Zuou.js";const b=f("setting",()=>{const o=a(!0),s=a(!0),e=a(!0),h=a(!0),t=a([{url:"/",icon:"i-solar:home-2-bold",title:"首页",children:[]},{url:"/community/post/list",icon:"i-solar:ufo-3-bold-duotone",title:"极物圈",children:[]},{url:"/category",icon:"i-solar:widget-5-bold-duotone",title:"圈子",disabled:!0,children:[]},{url:"/chat",icon:"i-solar:chat-round-bold-duotone",title:"聊天",children:[]},{url:"/setting",icon:"i-solar:settings-linear",title:"设置",children:[]}]);async function i(){var l,c;const{data:n}=await p();t.value[2].children=((c=(l=n.value)==null?void 0:l.data)==null?void 0:c.map(m=>u(m)))||[]}function u(n){var c,m;const l={url:`/community/category/${n.id}`,icon:"",image:n.image,title:n.name,children:[]};return(c=n.children)!=null&&c.length&&(l.children=(m=n.children)==null?void 0:m.map(g=>u(g))),l}const d=a({fontFamily:{value:"Alimama",list:[{name:"阿里妈妈方圆体",value:"Alimama"},{name:"字玩哥特黑白无常体",value:"ZiWanGeTe"},{name:"阿里健康体2.0",value:"AlibabaHealthFont2"},{name:"阿里妈妈刀隶体",value:"AlimamaDaoLiTi"},{name:"阿里妈妈东方大楷",value:"Alimama_DongFangDaKai"}]},modeToggle:{value:"auto",list:[{name:"自动",value:"auto"},{name:"日间",value:"light"},{name:"夜间",value:"dark"}]}});return{isChatFold:a(!1),isCollapse:h,menuList:t,isFold:e,isUserCollapse:s,isUserFold:o,settingPage:d,loadMenus:i}},{persist:{storage:v.cookies}});function T(o,s){const e=x(),h=(document==null?void 0:document.startViewTransition)&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(o==="auto"){const r=new Date().getHours();e.preference=r>18&&r<6?"dark":"light";return}if(!h){e.preference=o;return}if(!s){e.preference=o;return}document.documentElement.classList.add("stop-transition");const t=s.clientX,i=s.clientY,u=Math.hypot(Math.max(t,innerWidth-t),Math.max(i,innerHeight-i)),d=document.startViewTransition(()=>{e.preference=o});d.ready.then(()=>{const r=[`circle(0px at ${t}px ${i}px)`,`circle(${u.toFixed(0)}px at ${t}px ${i}px)`];document.documentElement.animate({clipPath:e.value==="dark"?r:[...r].reverse()},{duration:560,easing:"ease-in-out",pseudoElement:e.value==="dark"?"::view-transition-new(root)":"::view-transition-old(root)"})}),d.finished.then(()=>{document.documentElement.classList.remove("stop-transition")})}export{T as a,b as u};
