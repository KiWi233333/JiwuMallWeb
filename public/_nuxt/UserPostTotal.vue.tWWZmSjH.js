import{_ as b}from"./ElImage.MMEIiX96.js";import{_ as k}from"./nuxt-link.AUBdcVxd.js";import{u as I,B as w,S as B}from"./entry.t-rqPOs0.js";import{j as S}from"./post.az1H9mBx.js";import{j as U,a as y,ap as D,O as i,P as u,$ as m,a2 as L,u as _,Q as r,a5 as v,a0 as E,as as N,Z as f,ab as P}from"./swiper-vue.Dj7aAS3P.js";const T={class:"flex flex-col gap-3 rounded-4px v-card"},V={"text-center":""},j={class:"title text-1em"},q={class:"text-1em"},Z=U({__name:"UserPostTotal",props:{user:{},dto:{},gridClass:{default:"grid grid-cols-4 grid-gap-4"},cardClass:{default:""}},setup(p){const a=p,g=I(),s=y([{label:"帖子",value:0},{label:"评论",value:0},{label:"收藏",value:0},{label:"点赞",value:0}]);async function C(){var e,n;if((e=a==null?void 0:a.dto)!=null&&e.userId){const t=await S({userId:(n=a==null?void 0:a.dto)==null?void 0:n.userId},g.getToken);t.code===B.SUCCESS&&(s.value[0].value=t.data.postCount,s.value[1].value=t.data.postCommentCount,s.value[2].value=t.data.postCollectCount,s.value[3].value=t.data.postLikeCount)}}return C(),(e,n)=>{var c;const t=b,h=k,x=D("incre-up-int");return i(),u("div",T,[m(h,{to:{path:"/user/info",query:{id:(c=a==null?void 0:a.dto)==null?void 0:c.userId}},class:"flex flex-col"},{default:L(()=>{var o,l,d;return[m(t,{loading:"lazy","transition-300":"","hover:transform-scale-110":"",class:"mx-a h-5rem w-5rem rounded-1/2 border-default",src:`${("BaseUrlImg"in e?e.BaseUrlImg:_(w))+((o=e.user)==null?void 0:o.avatar)}?imageView2/0/format/webp/interlace/1/q/70`,alt:(l=e.user)==null?void 0:l.nickname,fit:"cover"},null,8,["src","alt"]),r("h4",V,v((d=e.user)==null?void 0:d.nickname),1)]}),_:1},8,["to"]),r("div",{class:f(e.gridClass)},[(i(!0),u(E,null,N(_(s),(o,l)=>(i(),u("div",{key:l,class:f(["w-full p-2 text-center leading-1.8em transition-200 hover-scale-110",e.cardClass])},[r("div",j,v(o.label),1),P(r("span",q,null,512),[[x,o.value]])],2))),128))],2)])}}});export{Z as _};
