import{_ as f}from"./ElImage.H3VTC2Vd.js";import{G as d,B as h,f as _,t as u,o as p}from"./entry.HuYbGiLS.js";import{j as y,k as v,L as i,M as c,N as s,Z as w,u as r,a4 as b,a3 as n,a6 as $,U as l,am as x,an as B}from"./swiper-vue.4ZhlhtKr.js";import{u as m}from"./fetch.3IR0ILJ_.js";const I=o=>(x("data-v-c6ecc9ec"),o=o(),B(),o),V={class:"group w-full flex flex-col cursor-pointer rounded-4px border-default hover:shadow-md md:shadow-none","aspect-ratio-1":"","md:aspect-ratio-1.2":""},k={class:"img relative h-2/3 w-full overflow-hidden"},G={class:"absolute bottom-0 left-0 z-1 w-full flex-row-bt-c bg-[var(--el-bg-color-primary)] px-3 py-1 color-light opacity-0 backdrop-blur-2em transition-300","group-hover:opacity-80":""},S={class:"icon"},C=I(()=>s("i",{class:"i-solar:eye-bold mr-1 p-2"},null,-1)),N={key:0,class:"dis rounded-2em bg-red-5 px-2 py-0.2em tracking-0.1em"},P={class:"relative h-1/3 flex flex-col justify-between justify-around px-2 py-2 md:px-3"},U={class:"w-full truncate"},j={"color-red-5":"",class:"texts flex items-end truncate"},z={"pr-1":""},L={hidden:"","text-0.8em":"","color-coolgray":"","md:inline":"",style:{"text-decoration":"line-through"}},T=y({__name:"GoodsBox",props:{goods:{}},setup(o){const{goods:t}=o,a=v(()=>d(1).subtract(d(t.price).divide(t.costPrice)).intValue);return(e,D)=>{const g=f;return i(),c("div",V,[s("div",k,[w(g,{loading:"lazy","transition-300":"","hover:transform-scale-110":"",class:"h-full w-full rounded-t-4px",src:`${("BaseUrlImg"in e?e.BaseUrlImg:r(h))+e.goods.images[0]}?imageView2/0/format/webp/interlace/1/q/70`,alt:e.goods.name,fit:"cover"},null,8,["src","alt"]),s("small",G,[s("div",S,[C,b(" "+n(e.goods.views),1)]),+r(a)?(i(),c("strong",N,n(`-${r(a)}%`),1)):$("",!0)])]),s("div",P,[s("h4",U,n(e.goods.name),1),s("p",j,[s("strong",z,"￥"+n(r(d)(e.goods.price)),1),s("small",L," ￥"+n(r(d)(e.goods.costPrice)),1),l(e.$slots,"default",{goods:e.goods},void 0,!0)]),l(e.$slots,"bottom",{goods:e.goods},void 0,!0)])])}}}),A=_(T,[["__scopeId","data-v-c6ecc9ec"]]);function F(o,t,a){return m(`${u}/goods/list/${o}/${t}`,{method:"POST",body:{...a},headers:{"Content-Type":"application/json"}},"$JxWVxvka8o")}function H(o,t,a){return p.post(`/goods/list/${o}/${t}`,{...a})}function J(o){return m(`${u}/goods/item/${o}`,"$VYsWCMxwaG")}function O(o,t){return p.put(`/goods/views/${o}`,{},{headers:{Authorization:t}})}export{A as _,O as a,H as b,F as c,J as g};
