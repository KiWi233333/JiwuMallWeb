import{t as k}from"./entry.t-rqPOs0.js";import{j as B,a as I,I as M,E as C,b as $,k as h,O as n,P as l,X as d,u,Q as c,Z as w,a8 as b,a0 as S}from"./swiper-vue.Dj7aAS3P.js";const _={key:"load","w-full":"","flex-row-c-c":"","py-2":"","text-center":"","text-bluegray":""},A={key:1,class:"animate-fade-in"},x=B({__name:"AutoIncre",props:{noMore:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0},delay:{default:400},loading:{type:Boolean,default:!1},loadingClass:{default:"mx-a my-0.6em h-1.4rem w-1.4rem animate-[spin_2s_infinite_linear] rounded-6px bg-[var(--el-color-primary)]"},appendLoadingClass:{default:""},ssr:{type:Boolean,default:!0},autoStop:{type:Boolean,default:!0}},emits:["load"],setup(f,{expose:p,emit:y}){const o=f,s=y,r=I();M(()=>{o.immediate&&s("load")});let a=null;const{stop:t,isSupported:v}=k(r,([e])=>{e.isIntersecting?(clearInterval(a),i&&i(),a=setInterval(i,o.delay*2)):(clearInterval(a),clearTimeout(a))});function i(){o.noMore&&o.autoStop?(cancelAnimationFrame(a),clearInterval(a),t&&t()):s("load")}o.immediate&&s("load"),C(()=>{cancelAnimationFrame(a),clearInterval(a),t(),a=null}),$(()=>o.noMore,e=>{e&&o.autoStop&&(cancelAnimationFrame(a),t&&t())});const g=h(()=>o.loading||!o.noMore);return p({stop:t,loadMoreRef:r}),(e,m)=>(n(),l(S,null,[d(e.$slots,"default"),u(g)?(n(),l("div",{ref_key:"loadMoreRef",ref:r,key:"loadMoreRef",class:"min-h-1em"},[d(e.$slots,"load",{},()=>[c("div",_,[c("div",{class:w(`${e.loadingClass} ${e.appendLoadingClass}`)},null,2)])])],512)):(n(),l("div",A,[d(e.$slots,"done",{},()=>[!e.noMore&&!e.loading?(n(),l("div",{key:"done","h-2":"","w-full":"","text-center":"","text-bluegray":"",onClick:m[0]||(m[0]=F=>!u(v)&&e.$emit("load"))})):b("",!0)])]))],64))}});export{x as _};
